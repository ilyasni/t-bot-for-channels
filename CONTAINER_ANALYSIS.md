# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–∞

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è:** 22:29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω

---

## üéØ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å

**–í—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:** 32  
**–ó–∞–ø—É—â–µ–Ω–Ω—ã—Ö:** 32  
**–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö:** 0  
**–ü—Ä–æ–±–ª–µ–º–Ω—ã—Ö:** 1 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç n8n workers)

---

## ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (—Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

### Core Services
- ‚úÖ **telethon** - Telegram Bot + FastAPI + Auth Server
- ‚úÖ **gpt2giga-proxy** - GigaChat API –ø—Ä–æ–∫—Å–∏
- ‚úÖ **rag-service** - RAG —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ **postgres** - –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **redis** - –ö—ç—à –∏ –æ—á–µ—Ä–µ–¥–∏

### n8n Services
- ‚úÖ **n8n** - –û—Å–Ω–æ–≤–Ω–æ–π n8n instance
- ‚úÖ **n8n-worker** - Worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ executions (–∑–∞–ø—É—â–µ–Ω –≤ 22:26)
- ‚ö†Ô∏è **n8n-import** - –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω (Exited 0)

### Supabase Stack (–ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫)
- ‚úÖ **supabase-studio** - Web UI
- ‚úÖ **supabase-kong** - API Gateway (–ø–æ—Ä—Ç 8000)
- ‚úÖ **supabase-auth** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **supabase-rest** - REST API
- ‚úÖ **supabase-realtime** - Realtime –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ **supabase-storage** - –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- ‚úÖ **supabase-db** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **supabase-pooler** - Connection pooler (–ø–æ—Ä—Ç 5432)
- ‚úÖ **supabase-analytics** - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ø–æ—Ä—Ç 4000)
- ‚úÖ **supabase-meta** - Metadata API
- ‚úÖ **supabase-imgproxy** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **supabase-edge-functions** - Edge Functions
- ‚úÖ **supabase-vector** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Monitoring Stack
- ‚úÖ **prometheus** - –ú–µ—Ç—Ä–∏–∫–∏ (–ø–æ—Ä—Ç 9090)
- ‚úÖ **grafana** - –î–∞—à–±–æ—Ä–¥—ã
- ‚úÖ **node-exporter** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ **cadvisor** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### Additional Services
- ‚úÖ **caddy** - Reverse proxy (–ø–æ—Ä—Ç—ã 80, 443)
- ‚úÖ **qdrant** - –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **neo4j** - –ì—Ä–∞—Ñ–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **searxng** - –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ **crawl4ai** - Web crawling
- ‚úÖ **flowise** - Low-code AI workflows

---

## ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è n8n workers

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—É—â–µ–Ω—ã –¥–≤–∞ n8n worker'–∞:
- `n8n-installer-n8n-worker-1` (–Ω–∞—à, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)
- `localai-n8n-worker-1` (–æ—Ç localai, –ª–∏—à–Ω–∏–π)

**–ü—Ä–∏—á–∏–Ω–∞:** localai worker –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –Ω–∞—à–∏–º n8n worker

**–†–µ—à–µ–Ω–∏–µ:** –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å localai worker

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—à–Ω–∏–π worker
docker stop localai-n8n-worker-1
docker rm localai-n8n-worker-1
```

### 2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ PostgreSQL

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ä—Ç 5432:
- `supabase-pooler` (–æ—Å–Ω–æ–≤–Ω–æ–π, –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- `postgres` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π, –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - supabase-pooler —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç–æ–≤

### –í–Ω–µ—à–Ω–∏–µ –ø–æ—Ä—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ):
- **80, 443** - Caddy (reverse proxy)
- **5432** - Supabase PostgreSQL
- **6543** - Supabase Pooler (transaction mode)
- **7687** - Neo4j Bolt protocol
- **8000** - Supabase Kong API
- **8001** - Telegram Auth Server
- **8010** - Telegram Bot FastAPI
- **8020** - RAG Service
- **8443** - Supabase Kong HTTPS
- **9090** - Prometheus

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã (—Ç–æ–ª—å–∫–æ –≤ Docker network):
- **4000** - Supabase Analytics
- **5000** - Supabase Storage
- **5678** - n8n (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **6333** - Qdrant
- **6379** - Redis
- **8080** - SearxNG, Supabase Imgproxy
- **8090** - GigaChat Proxy
- **8123** - ClickHouse
- **9000** - MinIO

---

## üìä –ü—Ä–æ—Ñ–∏–ª–∏ Docker Compose

### –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏:
- **default** - –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (telethon, postgres, redis, n8n)
- **monitoring** - Prometheus, Grafana, Node Exporter
- **n8n** - n8n –∏ n8n-worker
- **supabase** - –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ Supabase
- **searxng** - –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- **qdrant** - –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞
- **neo4j** - –ì—Ä–∞—Ñ–æ–≤–∞—è –±–∞–∑–∞
- **crawl4ai** - Web crawling
- **flowise** - AI workflows

### –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏:
- **langfuse** - Langfuse observability
- **weaviate** - Weaviate vector DB
- **letta** - Letta AI platform
- **open-webui** - Open WebUI
- **gpu-nvidia** - GPU Ollama
- **gpu-amd** - AMD GPU Ollama
- **cpu** - CPU Ollama

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—à–Ω–∏–π n8n worker:**
```bash
docker stop localai-n8n-worker-1
docker rm localai-n8n-worker-1
```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ n8n executions –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è:**
```bash
docker logs n8n-installer-n8n-worker-1 --tail 10
```

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:**
   - –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CPU/Memory
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –≤ Prometheus/Grafana

2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ REDIS_AUTH, LANGFUSE_ENCRYPTION_KEY)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å connection pooling –¥–ª—è PostgreSQL
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –¥–ª—è PostgreSQL
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ n8n workflows

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ!**

- ‚úÖ **32 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã** –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ **n8n workflow** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ worker'–∞
- ‚úÖ **–ì–æ–ª–æ—Å–æ–≤–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –∑–¥–æ—Ä–æ–≤—ã

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è localai n8n worker, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å.

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!**

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:** ‚úÖ 32/32 –∑–∞–ø—É—â–µ–Ω—ã  
**n8n:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
**–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã:** ‚ö†Ô∏è 1 (–ª–µ–≥–∫–æ –∏—Å–ø—Ä–∞–≤–∏–º—ã–π)
