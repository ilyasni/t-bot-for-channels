# ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ –ö–æ–º–∞–Ω–¥—ã - –ì–æ—Ç–æ–≤—ã –∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–î–∞—Ç–∞:** 14 –æ–∫—Ç—è–±—Ä—è 2025, 01:28 UTC  
**–°—Ç–∞—Ç—É—Å:** üü¢ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–∏—Å—Ç–µ–º—ã

### ‚úÖ 1. Voice Command Classifier (n8n)

**Webhook:** `https://n8n.produman.studio/webhook/voice-classify`

**–¢–µ—Å—Ç:**
```bash
curl -X POST "https://n8n.produman.studio/webhook/voice-classify" \
  -H "Content-Type: application/json" \
  -d '{"transcription": "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏", "user_id": 6}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "command": "search",
  "confidence": 1.0,
  "reasoning": "–∑–∞–ø—Ä–æ—Å —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º –ø–æ–∏—Å–∫–æ–º...",
  "original_transcription": "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏",
  "user_id": 6
}
```

**‚úÖ AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!**

---

### ‚úÖ 2. RAG Service (Qdrant)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
```json
{
  "user_id": 6,
  "collection_name": "telegram_posts_6",
  "vectors_count": 228,      ‚úÖ 228 –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ
  "points_count": 228,
  "indexed_posts": 267,
  "pending_posts": 0,
  "failed_posts": 0
}
```

**–ü–æ–∫—Ä—ã—Ç–∏–µ:** 85% (228/267 –ø–æ—Å—Ç–æ–≤)

---

### ‚úÖ 3. SaluteSpeech (–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**OAuth2:** ‚úÖ Access token –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω)  
**–ö–µ—à —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π:** ‚úÖ Redis (24 —á–∞—Å–∞)  
**–õ–∏–º–∏—Ç:** 60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–æ–µ

---

### ‚úÖ 4. Telegram Bot

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ü–∞—Ä—Å–∏–Ω–≥:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (–ø–æ—Å–ª–µ–¥–Ω–∏–π: 01:20 UTC)  
**Group Monitor:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)  
**Voice Handler:** ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

---

## üé§ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ì–æ–ª–æ—Å–æ–≤—ã—Ö –ö–æ–º–∞–Ω–¥

### –í–∞—Ä–∏–∞–Ω—Ç 1: AI –†–µ–∂–∏–º (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

```
1. –û—Ç–ø—Ä–∞–≤—å –≤ Telegram –±–æ—Ç—É: /reset
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É: ü§ñ AI —Ä–µ–∂–∏–º
3. –û—Ç–ø—Ä–∞–≤—å –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?"
ü§ñ AI –≤—ã–±—Ä–∞–ª: /ask (95%)
üîç –í—ã–ø–æ–ª–Ω—è—é...

üí° –û—Ç–≤–µ—Ç:
[RAG –Ω–∞–π–¥—ë—Ç –≤ 228 –ø–æ—Å—Ç–∞—Ö –∏ –≤—ã–¥–∞—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç]
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Ask –†–µ–∂–∏–º (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

```
1. –û—Ç–ø—Ä–∞–≤—å: /reset
2. –ù–∞–∂–º–∏: üí° Ask —Ä–µ–∂–∏–º
3. –û—Ç–ø—Ä–∞–≤—å –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ blockchain"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ blockchain"
üîç –†–µ–∂–∏–º: Ask
üí° –û—Ç–≤–µ—Ç: [—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –ø–æ—Å—Ç–æ–≤]
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Search –†–µ–∂–∏–º (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

```
1. –û—Ç–ø—Ä–∞–≤—å: /reset
2. –ù–∞–∂–º–∏: üîç Search —Ä–µ–∂–∏–º
3. –û—Ç–ø—Ä–∞–≤—å –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã?"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã?"
üîç –†–µ–∂–∏–º: Search
üì± –í–∞—à–∏ –ø–æ—Å—Ç—ã: [—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ—Å–ª–∏ –µ—Å—Ç—å]
üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç: [–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω]
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –ó–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Ask (RAG-–ø–æ–∏—Å–∫ –≤ –ø–æ—Å—Ç–∞—Ö):
- ‚úÖ "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?"
- ‚úÖ "–†–∞—Å—Å–∫–∞–∂–∏ –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç—è—Ö –≤ AI"
- ‚úÖ "–ö–∞–∫–∏–µ –±—ã–ª–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏?"
- ‚úÖ "–ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ blockchain?"

### Search (–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫):
- ‚úÖ "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã"
- ‚úÖ "–ß—Ç–æ —Ç–∞–∫–æ–µ Large Language Models?"
- ‚úÖ "–ì–¥–µ –Ω–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ Python?"
- ‚úÖ "–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—å–∏ –ø—Ä–æ —ç–∫–æ–Ω–æ–º–∏–∫—É"

---

## üîß –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ö–æ–º–∞–Ω–¥—ã (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

```bash
# –°–±—Ä–æ—Å —Ä–µ–∂–∏–º–∞
/reset

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–≤–∫–ª—é—á–∞—è voice limits)
/subscription

# –ü–æ–º–æ—â—å (–≤–∫–ª—é—á–∞—è –≥–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã)
/help

# –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã
/ask –ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ AI?
/search –ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ blockchain
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –õ–∏–º–∏—Ç–æ–≤

| –ü–æ–¥–ø–∏—Å–∫–∞   | Voice Enabled | –õ–∏–º–∏—Ç –≤ –¥–µ–Ω—å |
|------------|---------------|--------------|
| Free       | ‚ùå            | 0            |
| Trial      | ‚úÖ            | 20           |
| Basic      | ‚ùå            | 0            |
| Premium    | ‚úÖ            | 50           |
| Enterprise | ‚úÖ            | 999          |

**–¢–µ–∫—É—â–∞—è –ø–æ–¥–ø–∏—Å–∫–∞:** Premium (50 –≥–æ–ª–æ—Å–æ–≤—ã—Ö –≤ –¥–µ–Ω—å)

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞:
```bash
docker logs telethon -f | grep -E "(Voice|Classifier|Transcr)"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å n8n workflow:
```bash
curl -X POST "https://n8n.produman.studio/webhook/voice-classify" \
  -H "Content-Type: application/json" \
  -d '{"transcription": "—Ç–µ—Å—Ç", "user_id": 6}'
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RAG —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
```bash
curl -s "http://localhost:8020/rag/stats/6" | python3 -m json.tool
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SaluteSpeech –∫–µ—à:
```bash
docker exec redis redis-cli keys "salute_*"
docker exec redis redis-cli keys "voice_*"
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] SaluteSpeech OAuth2 —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Voice transcription service –∑–∞–ø—É—â–µ–Ω
- [x] Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [x] n8n Voice Command Classifier –∞–∫—Ç–∏–≤–µ–Ω
- [x] AI classification —Ä–∞–±–æ—Ç–∞–µ—Ç (100% —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–∞—Ö)
- [x] RAG service –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–ª 228 –ø–æ—Å—Ç–æ–≤
- [x] Telegram bot voice handler –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- [x] Reply keyboard —Å —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ö–æ–º–∞–Ω–¥–∞ /reset —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Subscription limits –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≥–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã** —á–µ—Ä–µ–∑ Telegram
2. **–ü—Ä–æ–≤–µ—Ä—å —Ç–æ—á–Ω–æ—Å—Ç—å AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏** –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
3. **–î–æ–∂–¥–∏—Å—å —Å–±—Ä–æ—Å–∞ GigaChat –ª–∏–º–∏—Ç–∞** –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è 39 –ø–æ—Å—Ç–æ–≤
4. **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)** –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π Group Digest workflows –≤ n8n

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Voice Commands:** `docs/features/voice/VOICE_COMMANDS.md`
- **Voice AI Classifier:** `docs/voice/VOICE_AI_CLASSIFIER_SETUP.md`
- **Voice Quick Start:** `docs/features/voice/VOICE_QUICK_START.md`
- **Implementation Summary:** `docs/features/voice/VOICE_IMPLEMENTATION_SUMMARY.md`

---

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üéâ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** 14.10.2025, 01:28 UTC  
**–í–µ—Ä—Å–∏—è:** 3.3.0

