# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GigaChat –Ω–æ–¥ –≤ n8n

## üìã –ü–∞–º—è—Ç–∫–∞ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ GigaChat API –Ω–æ–¥

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö GigaChat –Ω–æ–¥

#### 1. **Model** (–ú–æ–¥–µ–ª—å)
```
GigaChat        - –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á
GigaChat-Pro    - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á (Speaker Analyzer, Summarizer, Synthesizer)
GigaChat-Max    - –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
```

#### 2. **Messages** (–°–æ–æ–±—â–µ–Ω–∏—è)

**System Message** (–¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤):
```
–¢—ã - [—Ä–æ–ª—å –∞–≥–µ–Ω—Ç–∞]. [–æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏]. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
```

**User Message** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ):
```
={{ $json.prompt }}
```

#### 3. **Options** (–û–ø—Ü–∏–∏)

**Temperature:**
```
0.1  - –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (–≤—Å–µ –∞–≥–µ–Ω—Ç—ã)
```

**Max Tokens:**
```
={{ $json.max_tokens }}
```

**Top P:**
```
0.1  - –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
```

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ –∞–≥–µ–Ω—Ç–∞–º

#### **Agent: Topic Extractor**
- **Model:** `GigaChat`
- **System:** `"–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫ —Ç–µ–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤. –ò–∑–≤–ª–µ–∫–∞–π –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –ø–æ–¥—Ç–µ–º–∞–º–∏. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Emotion Analyzer**
- **Model:** `GigaChat`
- **System:** `"–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É –¥–∏–∞–ª–æ–≥–æ–≤. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å —Ç–æ–Ω, –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Speaker Analyzer** ‚≠ê (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ô)
- **Model:** `GigaChat-Pro`
- **System:** `"–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–∏–∞–ª–æ–≥–æ–≤. –û–ø—Ä–µ–¥–µ–ª—è–µ—à—å —Ä–æ–ª–∏, –ø–æ–∑–∏—Ü–∏–∏, –≤–∫–ª–∞–¥—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —É—á–µ—Ç–æ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Key Moments**
- **Model:** `GigaChat`
- **System:** `"–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö. –ò–∑–≤–ª–µ–∫–∞–µ—à—å —Ä–µ—à–µ–Ω–∏—è, –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–æ–±–ª–µ–º—ã, –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —Ä–∏—Å–∫–∏ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Timeline**
- **Model:** `GigaChat`
- **System:** `"–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤. –°—Ç—Ä–æ–∏—à—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Summarizer**
- **Model:** `GigaChat-Pro`
- **System:** `"–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–æ–≤. –°–æ–∑–¥–∞–µ—à—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–µ–∑—é–º–µ —Ä–∞–∑–Ω–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Supervisor Synthesizer** ‚≠ê (–§–ò–ù–ê–õ–¨–ù–´–ô)
- **Model:** `GigaChat-Pro`
- **System:** `"–¢—ã - supervisor —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—â–∏–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤. –°–æ–∑–¥–∞–µ—à—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON —Å—Ç—Ä–æ–≥–æ –ø–æ —Å—Ö–µ–º–µ. –ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens }}`

#### **Agent: Context Links Analyzer** üîó (–ù–û–í–´–ô)
- **Model:** `GigaChat`
- **System:** `"–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –∏–∑–≤–ª–µ—á—å –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –±–µ–∑ markdown. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞: {\"context_links\": [{\"url\": \"...\", \"title\": \"...\", \"description\": \"...\"}]}. –ï—Å–ª–∏ —Å—Å—ã–ª–æ–∫ –Ω–µ—Ç, –≤–µ—Ä–Ω–∏ {\"context_links\": []}. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens || 500 }}`

#### **Agent: Dialogue Assessor** üìä (–ù–û–í–´–ô)
- **Model:** `GigaChat`
- **System:** `"–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∏–∞–ª–æ–≥–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –æ—Ü–µ–Ω–∏—Ç—å –¥–∏–∞–ª–æ–≥ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –±–µ–∑ markdown. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞: {\"assessment\": {\"detail_level\": \"...\", \"dialogue_type\": \"...\", \"message_count\": ..., \"token_budgets\": {...}}}. detail_level: micro, minimal, standard, detailed, comprehensive. dialogue_type: casual_chat, technical_discussion, problem_solving, conflict, collaboration."`
- **User:** `={{ $json.prompt }}`
- **Temperature:** `0.1`
- **Max Tokens:** `={{ $json.max_tokens || 800 }}`

### üîë Credentials (–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

**–î–ª—è –≤—Å–µ—Ö GigaChat –Ω–æ–¥:**
- **Type:** `GigaChat API`
- **Name:** `GigaChat account`
- **ID:** `B0z9RpNctWVlh4up`

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **User Message –≤—Å–µ–≥–¥–∞:** `={{ $json.prompt }}`
2. **Temperature –≤—Å–µ–≥–¥–∞:** `0.1` (–Ω–µ 0.3-0.4!)
3. **Max Tokens –≤—Å–µ–≥–¥–∞:** `={{ $json.max_tokens }}`
4. **System Message —Å–æ–¥–µ—Ä–∂–∏—Ç:** "–ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö"
5. **Speaker Analyzer, Summarizer –∏ Synthesizer:** –∏—Å–ø–æ–ª—å–∑—É—é—Ç `GigaChat-Pro`
6. **Context Links Analyzer –∏ Dialogue Assessor:** –∏—Å–ø–æ–ª—å–∑—É—é—Ç `GigaChat` (–±–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å)

### üîÑ –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å Execute Guardrail** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π GigaChat –Ω–æ–¥—ã
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å connections** –≤ orchestrator
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —á–µ—Ä–µ–∑ `/group_digest`
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏** –Ω–∞ `‚úÖ Guardrail` —Å–æ–æ–±—â–µ–Ω–∏—è

### üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

- ‚ùå **–ü—É—Å—Ç–æ–µ User Message** ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `={{ $json.prompt }}`
- ‚ùå **Temperature 0.3-0.4** ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `0.1`
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ "–ó–ê–ü–†–ï–©–ï–ù–û"** –≤ System Message
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Credentials** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ID
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Execute Guardrail** –ø–æ—Å–ª–µ GigaChat –Ω–æ–¥—ã
- ‚ùå **Context Links Analyzer:** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `{"context_links": [...]}`
- ‚ùå **Dialogue Assessor:** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è detail_level/dialogue_type ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] Model –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (GigaChat/GigaChat-Pro)
- [ ] System Message —Å–æ–¥–µ—Ä–∂–∏—Ç "–ó–ê–ü–†–ï–©–ï–ù–û: markdown, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö"
- [ ] User Message: `={{ $json.prompt }}`
- [ ] Temperature: `0.1`
- [ ] Max Tokens: `={{ $json.max_tokens }}`
- [ ] Credentials: GigaChat account (B0z9RpNctWVlh4up)
- [ ] Execute Guardrail –ø–æ–¥–∫–ª—é—á–µ–Ω –ø–æ—Å–ª–µ GigaChat –Ω–æ–¥—ã
- [ ] Connections –≤ orchestrator –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] **Context Links Analyzer:** System Message —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É `{"context_links": [...]}`
- [ ] **Dialogue Assessor:** System Message —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è detail_level/dialogue_type

---

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** ~5 –º–∏–Ω—É—Ç –Ω–∞ –Ω–æ–¥—É  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –í–´–°–û–ö–ê–Ø - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ = –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ JSON  
**–í—Å–µ–≥–æ –Ω–æ–¥:** 9 (–≤–∫–ª—é—á–∞—è 2 –Ω–æ–≤—ã–µ: Context Links Analyzer, Dialogue Assessor)
