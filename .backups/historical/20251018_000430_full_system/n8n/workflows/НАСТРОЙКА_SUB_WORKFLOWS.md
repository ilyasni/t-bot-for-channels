# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sub-workflows –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ –≥—Ä—É–ø–ø

**–î–∞—Ç–∞:** 13 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 20 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –õ–µ–≥–∫–æ (–ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)

---

## üìö –ß—Ç–æ —ç—Ç–æ?

–ù–æ–≤–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ Telegram –≥—Ä—É–ø–ø:
- **4 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö workflow** –≤–º–µ—Å—Ç–æ 1 –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ
- **–†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ** (~15 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 20)
- **–ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö** (message_count –∏ hours —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
- **–°–ª–µ–¥—É–µ—Ç best practices** –æ—Ç n8n

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ n8n

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://n8n.produman.studio
```

–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É.

---

### –®–∞–≥ 2: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ 3 –∞–≥–µ–Ω—Ç–∞ (sub-workflows)

**–í–∞–∂–Ω–æ!** –°–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∞–≥–µ–Ω—Ç–æ–≤, –ø–æ—Ç–æ–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä.

#### 2.1 –ò–º–ø–æ—Ä—Ç Agent: Topic Extractor

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **Workflows**
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Import from File** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª: `n8n/workflows/agent_topic_extractor.json`
4. –ù–∞–∂–º–∏—Ç–µ **Import**
5. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–æ–≤—ã–π workflow
6. **–ù–ï –ê–ö–¢–ò–í–ò–†–£–ô–¢–ï!** –≠—Ç–æ Execute Workflow Trigger - –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
7. –ü—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π—Ç–µ (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Save –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏)

#### 2.2 –ò–º–ø–æ—Ä—Ç Agent: Speaker Analyzer

–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–µ –∂–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **Import from File**
2. –í—ã–±–µ—Ä–∏—Ç–µ: `n8n/workflows/agent_speaker_analyzer.json`
3. **Import**
4. **–ù–ï –ê–ö–¢–ò–í–ò–†–£–ô–¢–ï!** –≠—Ç–æ —Ç–æ–∂–µ Execute Workflow Trigger
5. –ó–∞–∫—Ä–æ–π—Ç–µ

#### 2.3 –ò–º–ø–æ—Ä—Ç Agent: Context Summarizer

–ï—â–µ —Ä–∞–∑:
1. **Import from File**
2. –í—ã–±–µ—Ä–∏—Ç–µ: `n8n/workflows/agent_summarizer.json`
3. **Import**
4. **–ù–ï –ê–ö–¢–ò–í–ò–†–£–ô–¢–ï!** Execute Workflow Trigger
5. –ó–∞–∫—Ä–æ–π—Ç–µ

**‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:** –í —Å–ø–∏—Å–∫–µ workflows –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 3 –Ω–æ–≤—ã—Ö workflow:
- Agent: Topic Extractor (–ù–ï –∞–∫—Ç–∏–≤–µ–Ω - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)
- Agent: Speaker Analyzer (–ù–ï –∞–∫—Ç–∏–≤–µ–Ω - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)
- Agent: Context Summarizer (–ù–ï –∞–∫—Ç–∏–≤–µ–Ω - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)

**–í–∞–∂–Ω–æ:** Execute Workflow Trigger workflows –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ - –æ–Ω–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–≥–¥–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏—Ö –≤—ã–∑—ã–≤–∞–µ—Ç!

---

### –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

–¢–µ–ø–µ—Ä—å –≥–ª–∞–≤–Ω—ã–π workflow:

1. **Import from File**
2. –í—ã–±–µ—Ä–∏—Ç–µ: `n8n/workflows/group_digest_orchestrator.json`
3. **Import**
4. **–ù–ï –ê–ö–¢–ò–í–ò–†–£–ô–¢–ï –ï–©–ï!** –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å.

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Execute Workflow —É–∑–ª—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π "Group Digest Orchestrator".

–í—ã —É–≤–∏–¥–∏—Ç–µ workflow —Å 6 —É–∑–ª–∞–º–∏. –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å 3 —É–∑–ª–∞ —Å —Ç–∏–ø–æ–º "Execute Workflow":

#### 4.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ "Execute: Topic Extractor"

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Topic Extractor"**
2. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"Workflow"**
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Agent: Topic Extractor"**
5. –£–∑–µ–ª –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è

#### 4.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ "Execute: Speaker Analyzer"

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Speaker Analyzer"**
2. –í –ø–æ–ª–µ **"Workflow"** –≤—ã–±–µ—Ä–∏—Ç–µ **"Agent: Speaker Analyzer"**

#### 4.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ "Execute: Summarizer"

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Summarizer"**
2. –í –ø–æ–ª–µ **"Workflow"** –≤—ã–±–µ—Ä–∏—Ç–µ **"Agent: Context Summarizer"**

#### 4.4 –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ

1. –ù–∞–∂–º–∏—Ç–µ **Save** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ **Active ‚Üí ON** (–∑–µ–ª–µ–Ω—ã–π)
3. –ù–∞–∂–º–∏—Ç–µ **Save** –µ—â–µ —Ä–∞–∑

**‚úÖ –ì–æ—Ç–æ–≤–æ!** –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω.

---

### –®–∞–≥ 5: –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—ã–π workflow v2

**–í–∞–∂–Ω–æ:** –ù—É–∂–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—ã–π workflow, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç (–æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω webhook `/group-digest`).

1. –í —Å–ø–∏—Å–∫–µ workflows –Ω–∞–π–¥–∏—Ç–µ:
   - **"Group Dialogue Multi-Agent Analyzer v2"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ **Active ‚Üí OFF** (—Å–µ—Ä—ã–π)
4. –ù–∞–∂–º–∏—Ç–µ **Save**

**‚ùå –ù–ï –£–î–ê–õ–Ø–ô–¢–ï –ü–û–ö–ê!** –û—Å—Ç–∞–≤—å—Ç–µ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è.

---

### –®–∞–≥ 6: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

#### 6.1 –¢–µ—Å—Ç —á–µ—Ä–µ–∑ debug –∫–æ–º–∞–Ω–¥—É

–û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ:
```
/debug_group_digest 6
```

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –¥–≤—É–º—è —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:

**–°–æ–æ–±—â–µ–Ω–∏–µ 1 - RAW —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "topics": ["—Ç–µ–º–∞1", "—Ç–µ–º–∞2", ...],
  "speakers_summary": {
    "username1": "–æ–ø–∏—Å–∞–Ω–∏–µ",
    "username2": "–æ–ø–∏—Å–∞–Ω–∏–µ"
  },
  "overall_summary": "–†–µ–∑—é–º–µ –¥–∏–∞–ª–æ–≥–∞...",
  "message_count": 6,
  "period": "6 hours"
}
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- ‚úÖ `message_count` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **6** (–∏–ª–∏ —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ), –ù–ï 0
- ‚úÖ `period` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **"6 hours"**, –ù–ï "24 hours"
- ‚úÖ `topics` - –º–∞—Å—Å–∏–≤ —Å —Ç–µ–º–∞–º–∏
- ‚úÖ `speakers_summary` - –æ–±—ä–µ–∫—Ç —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ `overall_summary` - —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ

**–°–æ–æ–±—â–µ–Ω–∏–µ 2 - –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ:**
```
# üìä –î–∞–π–¥–∂–µ—Å—Ç –≥—Ä—É–ø–ø—ã: Core Banking design team
–ü–µ—Ä–∏–æ–¥: 6 hours  ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 6!
–°–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: 6  ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ!

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:
...
```

#### 6.2 –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É

```
/group_digest 6
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç.

---

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ n8n

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n UI
2. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **Executions**
3. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 4 execution –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:**
- ‚úÖ "Group Digest Orchestrator" - –∑–µ–ª–µ–Ω—ã–π (—É—Å–ø–µ—Ö)
- ‚úÖ "Agent: Topic Extractor" - –∑–µ–ª–µ–Ω—ã–π
- ‚úÖ "Agent: Speaker Analyzer" - –∑–µ–ª–µ–Ω—ã–π
- ‚úÖ "Agent: Context Summarizer" - –∑–µ–ª–µ–Ω—ã–π

**–ï—Å–ª–∏ –≤—Å–µ –∑–µ–ª–µ–Ω—ã–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! üéâ

**–ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–µ (–æ—à–∏–±–∫–∏)** - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –Ω–∏–∂–µ.

---

### –®–∞–≥ 8: –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π v2 (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)

**–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —É–±–µ–¥–∏–ª–∏—Å—å —á—Ç–æ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

1. Workflows ‚Üí "Group Dialogue Multi-Agent Analyzer v2"
2. –ù–∞–∂–º–∏—Ç–µ **Delete**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `group_dialogue_simple.json`
- `group_dialogue_multi_agent_v3.json`

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–∞–º–∏:

- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã 3 –∞–≥–µ–Ω—Ç–∞ (Topic, Speaker, Summarizer)
- [ ] –ê–≥–µ–Ω—Ç—ã –ù–ï –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã (–æ–Ω–∏ Execute Workflow Trigger - –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- [ ] –í –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã 3 Execute Workflow —É–∑–ª–∞
- [ ] –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–¢–û–õ–¨–ö–û –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Active)
- [ ] –°—Ç–∞—Ä—ã–π v2 –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- [ ] `/debug_group_digest 6` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ message_count –∏ period
- [ ] `/group_digest 6` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–π–¥–∂–µ—Å—Ç
- [ ] –í n8n Executions –≤–∏–¥–Ω–æ 4 –∑–µ–ª–µ–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –°—Ç–∞—Ä—ã–π v2 —É–¥–∞–ª–µ–Ω (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Referenced node doesn't exist" –∏–ª–∏ "Workflow not found"

**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:
```
Cannot assign to read only property 'name' of object 
'Error: Referenced node doesn't exist'
```

**–ü—Ä–∏—á–∏–Ω–∞:** Execute Workflow —É–∑–ª—ã –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ –ù–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–Ω–µ –≤—ã–±—Ä–∞–Ω—ã –∞–≥–µ–Ω—Ç—ã)

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ "Group Digest Orchestrator"  
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Topic Extractor"**
3. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"Workflow"**
4. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ **"Agent: Topic Extractor"**
5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Speaker Analyzer"**
6. –í—ã–±–µ—Ä–∏—Ç–µ **"Agent: Speaker Analyzer"**
7. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª **"Execute: Summarizer"**
8. –í—ã–±–µ—Ä–∏—Ç–µ **"Agent: Context Summarizer"**
9. –ù–∞–∂–º–∏—Ç–µ **Save**
10. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ: **Active ‚Üí ON**

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –∞–≥–µ–Ω—Ç–æ–≤ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ - –∑–Ω–∞—á–∏—Ç –æ–Ω–∏ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (–≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –®–∞–≥—É 2)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç –∞–≥–µ–Ω—Ç–æ–≤

**–°–∏–º–ø—Ç–æ–º:** topics, speakers, summary –ø—É—Å—Ç—ã–µ

**–ü—Ä–∏—á–∏–Ω–∞:** Execute Workflow —É–∑–ª—ã –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ "Group Digest Orchestrator"
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞–∂–¥—ã–π "Execute: ..." —É–∑–µ–ª
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –ø–æ–ª–µ "Workflow" –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç
4. Save

**–í–∞–∂–Ω–æ:** –°–∞–º–∏ –∞–≥–µ–Ω—Ç—ã –ù–ï –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã (–æ–Ω–∏ Execute Workflow Trigger)

---

### –ü—Ä–æ–±–ª–µ–º–∞: message_count = 0, period = "24 hours"

**–°–∏–º–ø—Ç–æ–º:** –°—Ç–∞—Ä—ã–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä—ã–π v2 workflow –≤—Å–µ –µ—â–µ –∞–∫—Ç–∏–≤–µ–Ω (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ v2: Active ‚Üí OFF
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–µ–Ω: Active ‚Üí ON
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–æ–≤–∞ `/debug_group_digest 6`

---

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout –∏–ª–∏ –¥–æ–ª–≥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–°–∏–º–ø—Ç–æ–º:** –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∏–ª–∏ –¥–æ–ª–≥–æ –¥—É–º–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –û–¥–∏–Ω –∏–∑ –∞–≥–µ–Ω—Ç–æ–≤ –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ GigaChat –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Executions –≤ n8n
2. –ù–∞–π–¥–∏—Ç–µ –∫–∞–∫–æ–π agent –∫—Ä–∞—Å–Ω—ã–π (–æ—à–∏–±–∫–∞)
3. –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç execution
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–∑–µ–ª GigaChat - –∫–∞–∫–∞—è –æ—à–∏–±–∫–∞
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ gpt2giga-proxy —Ä–∞–±–æ—Ç–∞–µ—Ç:
   ```bash
   docker ps | grep gpt2giga
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ workflows –≤ —Å–ø–∏—Å–∫–µ

**–°–∏–º–ø—Ç–æ–º:** –ù–µ –≤–∏–∂—É –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ workflows

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Ç–∞–º –∏—â–µ—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –í n8n UI —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **Workflows** (–∏–∫–æ–Ω–∫–∞ —Å–ø–∏—Å–∫–∞)
2. –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –≤—Å–µ workflows
3. –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –∑–Ω–∞—á–∏—Ç –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏

---

## üîÑ –û—Ç–∫–∞—Ç –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:

1. **–î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä:**
   - "Group Digest Orchestrator" ‚Üí Active OFF

2. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—ã–π v2:**
   - "Group Dialogue Multi-Agent Analyzer v2" ‚Üí Active ON

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
   ```
   /group_digest 6
   ```

4. **–°–æ–æ–±—â–∏—Ç–µ –æ–± –æ—à–∏–±–∫–µ** —á—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è

---

## üìä –ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ (v2) | –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ |
|----------|---------------------|---------------|
| **Workflows** | 1 –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π | 4 –º–æ–¥—É–ª—å–Ω—ã—Ö |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ~20 —Å–µ–∫—É–Ω–¥ | ~15 —Å–µ–∫—É–Ω–¥ |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | –°–ª–æ–∂–Ω–æ | –õ–µ–≥–∫–æ (–∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ) |
| **–û—Ç–ª–∞–¥–∫–∞** | 1 –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | 4 –ª–æ–≥–∞ (–ø–æ –∞–≥–µ–Ω—Ç–∞–º) |
| **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö** | –î–∞ (hours, count) | –ù–µ—Ç ‚úÖ |
| **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –ù–µ—Ç | –î–∞ (–∞–≥–µ–Ω—Ç—ã) |
| **Best practices** | ‚ùå | ‚úÖ |

---

## üéì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è)

```
Python –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:
POST /webhook/group-digest
Body: {messages: [...], user_id, group_id, hours: 6}
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Orchestrator: Prepare Data             ‚îÇ
‚îÇ ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç message_count, hours       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì ‚Üì ‚Üì (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Agent 1 ‚îÇ  ‚îÇ Agent 2 ‚îÇ  ‚îÇ Agent 3 ‚îÇ
‚îÇ Topics  ‚îÇ  ‚îÇ Speakers‚îÇ  ‚îÇ Summary ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì         ‚Üì            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Orchestrator: Aggregate Results        ‚îÇ
‚îÇ ‚Üí –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤        ‚îÇ
‚îÇ ‚Üí –ë–µ—Ä–µ—Ç hours –∏ message_count –∏–∑       ‚îÇ
‚îÇ   Prepare Data (–Ω–µ —Ç–µ—Ä—è–µ—Ç!)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì
–û—Ç–≤–µ—Ç –±–æ—Ç—É: {topics, speakers, summary, count, period}
    ‚Üì
Python —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–ª—è Telegram
```

---

## üìÅ –§–∞–π–ª—ã

**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ:**
- `n8n/workflows/agent_topic_extractor.json` - –ê–≥–µ–Ω—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–º
- `n8n/workflows/agent_speaker_analyzer.json` - –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ —Å–ø–∏–∫–µ—Ä–æ–≤
- `n8n/workflows/agent_summarizer.json` - –ê–≥–µ–Ω—Ç —Ä–µ–∑—é–º–µ
- `n8n/workflows/group_digest_orchestrator.json` - –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `n8n/workflows/–ù–ê–°–¢–†–û–ô–ö–ê_SUB_WORKFLOWS.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)
- `n8n/workflows/SUB_WORKFLOWS_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥ (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)
- `SUB_WORKFLOWS_IMPLEMENTATION.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

---

## ‚è±Ô∏è –¢–∞–π–º–ª–∞–π–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–ò–º–ø–æ—Ä—Ç 3 –∞–≥–µ–Ω—Ç–æ–≤:** 5 –º–∏–Ω—É—Ç
- **–ò–º–ø–æ—Ä—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** 2 –º–∏–Ω—É—Ç—ã
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Execute —É–∑–ª–æ–≤:** 3 –º–∏–Ω—É—Ç—ã
- **–î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è v2:** 1 –º–∏–Ω—É—Ç–∞
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** 5 –º–∏–Ω—É—Ç
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:** 2 –º–∏–Ω—É—Ç—ã
- **–£–¥–∞–ª–µ–Ω–∏–µ v2:** 1 –º–∏–Ω—É—Ç–∞

**–ò—Ç–æ–≥–æ:** ~20 –º–∏–Ω—É—Ç

---

## ‚ú® –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ú–æ–∂–µ—Ç–µ:
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç—ã: `/group_digest 6` (–∑–∞ 6 —á–∞—Å–æ–≤)
- –ú–µ–Ω—è—Ç—å –ø–µ—Ä–∏–æ–¥: `/group_digest 1`, `/group_digest 12`, `/group_digest 24`
- –°–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏: `/debug_group_digest 6`
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã: `/add_group`
- –í–∏–¥–µ—Ç—å —Å–≤–æ–∏ –≥—Ä—É–ø–ø—ã: `/my_groups`

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
2. ‚úÖ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –≤—Ä–µ–º–µ–Ω–∏
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ mention
4. ‚úÖ –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π v2 workflow

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤:
- –ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π (sentiment analysis)
- –ö–ª—é—á–µ–≤—ã–µ —Ü–∏—Ç–∞—Ç—ã
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- –ò –¥—Ä.

---

**–£–¥–∞—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!** üöÄ

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Executions –≤ n8n –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –ø–æ–º–æ—â—å—é.

