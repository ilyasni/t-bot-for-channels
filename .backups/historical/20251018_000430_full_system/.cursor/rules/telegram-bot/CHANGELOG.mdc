---
title: "Cursor Rules Changelog"
description: "–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª –¥–ª—è Telegram Bot"
tags: ["changelog", "versioning"]
version: "3.5"
priority: low
ruleType: "manual"
autoAttach: false
---

# Cursor Rules Changelog

## [3.5.0] - 2025-01-15

### üéØ LLM Evaluation System Release

**üÜï New Module:**
- ‚úÖ **12-evaluation.mdc** (520 lines) - LLM Evaluation System
  - Ragas integration –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤
  - Golden datasets management (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
  - Custom Telegram-specific metrics
  - Prometheus metrics –∏ Grafana dashboards
  - Admin commands –∏ CLI tools
  - Langfuse integration –¥–ª—è observability

**üîÑ Updates:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `.cursorrules` –¥–æ –≤–µ—Ä—Å–∏–∏ 3.5.0
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ LLM Evaluation System
  - –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π (12 —Ñ–∞–π–ª–æ–≤)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è evaluation –∑–∞–¥–∞—á
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `04-development.mdc`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è evaluation —Å–∏—Å—Ç–µ–º—ã
  - –ü—Ä–∏–º–µ—Ä—ã unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è schemas, golden_dataset_manager, bot_evaluator
  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ evaluation —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã comprehensive unit —Ç–µ—Å—Ç—ã
  - `test_evaluation_schemas.py` - Pydantic –º–æ–¥–µ–ª–∏
  - `test_golden_dataset_manager.py` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `test_bot_evaluator.py` - Ragas integration
  - `test_evaluation_runner.py` - Batch evaluation orchestration

**üß™ Testing Enhancements:**
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ evaluation —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ Mock-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Ragas dependencies
- ‚úÖ Async/await patterns –≤ —Ç–µ—Å—Ç–∞—Ö
- ‚úÖ Error handling scenarios
- ‚úÖ Concurrency testing –¥–ª—è batch evaluations

**üìä Monitoring & Observability:**
- ‚úÖ Prometheus metrics –¥–ª—è evaluation scores
- ‚úÖ Grafana dashboard –¥–ª—è visualization
- ‚úÖ Langfuse integration –¥–ª—è trace tracking
- ‚úÖ Admin commands –¥–ª—è monitoring —á–µ—Ä–µ–∑ Telegram

## [3.4.0] - 2025-10-15

### üéØ Maintenance & Organization Release

**üÜï New Module:**
- ‚úÖ **11-maintenance.mdc** (450 lines) - Unified retention service
  - Smart retention logic (—É—á–µ—Ç digest frequency)
  - Orphaned channels cleanup
  - Dry run mode –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - Context7 best practices (PostgreSQL partitioning)

**üîÑ Updates:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–æ–¥—É–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ –≤–µ—Ä—Å–∏–∏ 3.4
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è maintenance services
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ core rules
- ‚úÖ –û—á–∏—â–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

**üìÅ Project Organization:**
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω—ã implementation summaries –≤ `docs/archive/implementation/`
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω—ã deployment docs –≤ `docs/archive/deployment/`
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω—ã testing docs –≤ `docs/archive/testing/`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã comprehensive unit tests –¥–ª—è unified retention service

## [3.3.0] - 2025-10-13

### üéØ Optimization Release + Groups Module

**Aligned with official Cursor best practices:**
- ‚úÖ All modules now < 550 lines (target: 500)
- ‚úÖ Added `ruleType` specification to all modules
- ‚úÖ Improved structure following Trigger.dev guide
- ‚úÖ Enhanced Quick Examples (‚úÖ/‚ùå) sections
- ‚úÖ Better Verification Checklists
- ‚úÖ Testing section in main `.cursorrules`
- ‚úÖ Common Pitfalls tables

**üÜï New Module:**
- ‚úÖ **10-groups.mdc** (480 lines) - Groups functionality
  - Database models (Group, GroupMention, GroupSettings)
  - Bot commands (/add_group, /group_digest, /my_groups)
  - n8n Multi-Agent Workflows (Sub-workflows architecture)
  - Markdown V2 escaping patterns
  - Private groups support
  - AI digest generation via n8n

### üìè File Size Optimization

| Module | Before | After | Reduction |
|--------|--------|-------|-----------|
| 05-security.mdc | 511 | 463 | -48 lines |
| 06-admin.mdc | 545 | 537 | -8 lines |
| 07-rag.mdc | 590 | 543 | -47 lines |
| 08-api.mdc | 598 | 525 | -73 lines |
| 09-external.mdc | 534 | 424 | -110 lines |

**Total reduction:** 286 lines across 5 files

### ‚ú® New Features

- **Rule Type Metadata**
  - `always` - Main `.cursorrules`
  - `autoAttached` - Context-specific modules
  - `manual` - CHANGELOG, README

- **Structured Sections** (following Trigger.dev guide)
  - High-Level Overview with essential info
  - Critical Patterns (first, not buried)
  - Essential elements before examples
  - Verification Checklist per module
  - Quick Examples (‚úÖ Correct / ‚ùå Bad)
  - Common Pitfalls with solutions

- **Testing Section** in `.cursorrules`
  - Pre-commit checklist
  - Linter, type checker, tests
  - Sensitive data check
  - Docker rebuild verification

- **Priority System** in YAML frontmatter
  - `critical` - Core rules (01-core, 03-database, 05-security)
  - `high` - Architecture, development
  - `medium` - Features (admin, RAG, API)
  - `low` - External services, changelog

### üîß Improved

- **Better Code Examples**
  - Removed redundant full endpoint implementations
  - Focused on patterns, not complete code
  - More "what NOT to do" examples
  - Side-by-side correct/incorrect patterns

- **Clearer Scope**
  - More specific file patterns
  - Exclusions (`!` syntax) for tests/scripts
  - Better auto-attachment logic

- **Documentation Links**
  - References to official Cursor docs
  - Links to Trigger.dev guide
  - awesome-cursorrules references

### üìù References

Based on official recommendations:
- [Cursor Docs - Rules](https://docs.cursor.com/context/rules)
- [Trigger.dev - How to write great Cursor Rules](https://trigger.dev/blog/cursor-rules)
- [awesome-cursorrules](https://github.com/PatrickJS/awesome-cursorrules)
- [Cursor Forum - Best Practices](https://forum.cursor.com/t/my-best-practices-for-mdc-rules-and-troubleshooting/50526)

---

## [3.2.0] - 2025-10-13

### ‚ú® Added
- **YAML frontmatter** –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö
  - `scope` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  - `tags` –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
  - `priority` –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  - `autoAttach` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

- **Context7 auto-integration hints**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è AI
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ

- **Quick Examples** –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
  - ‚úÖ Correct patterns (3-5 –ø—Ä–∏–º–µ—Ä–æ–≤)
  - ‚ùå Bad patterns –¥–ª—è –∏–∑–±–µ–≥–∞–Ω–∏—è

- **Conflict Resolution** –±–ª–æ–∫–∏
  - –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ scope

- **Verification Checklist Summary**
  - –ö—Ä–∞—Ç–∫–∏–π —á–µ–∫–ª–∏—Å—Ç –≤ –≥–ª–∞–≤–Ω–æ–º .cursorrules
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

- **–û—Ç–¥–µ–ª—å–Ω—ã–π CHANGELOG.mdc**
  - –¢—Ä–µ–∫–∏–Ω–≥ –≤–µ—Ä—Å–∏–π –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç README
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üîß Changed
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ —Ñ–∞–π–ª—ã –≤ `.cursor/rules/telegram-bot/`
- –û–±–Ω–æ–≤–∏–ª–∏ README.md —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- –£–ª—É—á—à–∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ –º–æ–¥—É–ª—è—Ö

### üìù Improved
- –ë–æ–ª–µ–µ —á–µ—Ç–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Context7
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è scope –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤ YAML frontmatter

---

## [3.1.0] - 2025-10-12

### ‚ú® Added
- **Context7 mandatory rule** (#0)
  - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π
  - –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ verification steps

- **QR Login —Å–∏—Å—Ç–µ–º–∞**
  - `qr_auth_manager.py` - QR —Å–µ—Å—Å–∏–∏
  - `bot_login_handlers_qr.py` - ConversationHandler
  - Mini App UI —á–µ—Ä–µ–∑ FastAPI

- **Admin Panel —á–µ—Ä–µ–∑ Mini App**
  - `admin_panel_manager.py` - —Å–µ—Å—Å–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  - Full SPA —Å tabs (2700+ —Å—Ç—Ä–æ–∫)
  - REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫**
  - User roles (admin/user)
  - 5 subscription tiers
  - Invite codes —Å–∏—Å—Ç–µ–º–∞
  - SubscriptionHistory –¥–ª—è –∞—É–¥–∏—Ç–∞

### üîß Changed
- **PostgreSQL ONLY** - —É–¥–∞–ª–µ–Ω SQLite fallback
- **Redis sessions** - shared state –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- **Timezone-aware datetime** –≤–µ–∑–¥–µ

### üìù Improved
- UI/UX best practices –¥–ª—è Mini Apps
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ support
- Skeleton loading
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JavaScript

---

## [3.0.0] - 2025-10-12

### ‚ú® Added
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - 9 —Ñ–∞–π–ª–æ–≤ (< 600 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
  - 01-core.mdc - –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
  - 02-architecture.mdc - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
  - 03-database.mdc - PostgreSQL, Redis
  - 04-development.mdc - workflow
  - 05-security.mdc - QR Login, auth
  - 06-admin.mdc - Admin Panel
  - 07-rag.mdc - RAG —Å–∏—Å—Ç–µ–º–∞
  - 08-api.mdc - FastAPI endpoints
  - 09-external.mdc - –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

- **README.md** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—è–º
- **telegram-bot.cursorrules** - entry point

### üîß Changed
- –†–∞–∑–±–∏–ª–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª (3000+ —Å—Ç—Ä–æ–∫)
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –î–æ–±–∞–≤–∏–ª–∏ cross-references

---

## [2.2.1] - 2025-10-11

### ‚ú® Added
- RAG –∫–æ–º–∞–Ω–¥—ã –≤ Telegram Bot
  - `/ask` - RAG-–ø–æ–∏—Å–∫
  - `/search` - –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
  - `/recommend` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  - `/digest` - AI-–¥–∞–π–¥–∂–µ—Å—Ç—ã

- –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Å—Å—ã–ª–æ–∫ (Crawl4AI)
  - –ü–æ–ª–µ `enriched_content`
  - –ú–∏–≥—Ä–∞—Ü–∏—è `add_enriched_content.py`

### üìù Improved
- –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (72 ‚Üí 50 —Ñ–∞–π–ª–æ–≤)
- –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–Ω—è telethon/ (11 ‚Üí 3 MD)
- –°–æ–∑–¥–∞–Ω `docs/archive/`

---

## [2.2.0] - 2025-10-10

### ‚ú® Added
- **RAG System** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –∏ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **AI-–¥–∞–π–¥–∂–µ—Å—Ç—ã** —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
  - Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
  - Redis (cache)
  - Searxng (–º–µ—Ç–∞–ø–æ–∏—Å–∫–æ–≤–∏–∫)
  - Crawl4AI (—Å–∫—Ä–∞–ø–∏–Ω–≥)
  - Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–µ LLM)

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
  - telethon (API + Parser)
  - telethon-bot (standalone bot)
  - rag-service (AI/RAG)
  - gpt2giga-proxy (GigaChat)

- **Event-Driven Architecture**
  - Webhooks –¥–ª—è n8n/Flowise
  - Background tasks

### üîß Changed
- Graceful degradation —Å fallback chains
- Circuit breaker –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ embeddings (24h TTL)
- Batch indexing –≤ Qdrant

### üìù Improved
- Best Practices (10 —Å–µ–∫—Ü–∏–π)
- Comprehensive health checks
- Prometheus metrics
- Structured logging

---

## [2.1.0] - 2025-10-09

### ‚ú® Added
- **Development helper** - `scripts/utils/dev.sh`
- **–ê–ª–∏–∞—Å—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **gpt2giga-proxy** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–ï–¥–∏–Ω–∞—è —Å–µ—Ç—å** localai_default

### üîß Changed
- –£–ø—Ä–æ—â–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GigaChat (1 –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ dev.sh

### üìù Improved
- –î–≤–æ–π–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å .gitignore
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã Docker Compose warnings

---

## [2.0.0] - 2025-10-01

### ‚ú® Initial Release
- –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º
- REST API (FastAPI)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥
- AI —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (OpenRouter)
- Retention —Å–∏—Å—Ç–µ–º–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

---

**–§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:** Semantic Versioning (MAJOR.MINOR.PATCH)

- **MAJOR** - breaking changes
- **MINOR** - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (backward compatible)
- **PATCH** - bug fixes
