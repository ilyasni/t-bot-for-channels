# –ü—Ä–∏–º–µ—Ä—ã HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Telegram Bot

## üé® –ë–∞–∑–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### 1. –ñ–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π

**Input Markdown:**
```markdown
**–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç**
*–ö—É—Ä—Å–∏–≤*
__–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π__
~~–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π~~
```

**Output HTML:**
```html
<b>–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç</b>
<i>–ö—É—Ä—Å–∏–≤</i>
<u>–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π</u>
<s>–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π</s>
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
> **–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç**  
> *–ö—É—Ä—Å–∏–≤*  
> <u>–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π</u>  
> ~~–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π~~

---

## üìù –¶–∏—Ç–∞—Ç—ã (Blockquote)

### 2. –ü—Ä–æ—Å—Ç–∞—è —Ü–∏—Ç–∞—Ç–∞

**Input Markdown:**
```markdown
> –≠—Ç–æ —Ü–∏—Ç–∞—Ç–∞
> –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞
```

**Output HTML:**
```html
<blockquote>–≠—Ç–æ —Ü–∏—Ç–∞—Ç–∞
–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞</blockquote>
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
> –°–µ—Ä—ã–π –±–ª–æ–∫ —Å–ª–µ–≤–∞ –æ—Ç —Ç–µ–∫—Å—Ç–∞, –∫–∞–∫ –≤ email –∫–ª–∏–µ–Ω—Ç–∞—Ö

---

### 3. –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è —Ü–∏—Ç–∞—Ç–∞ (Expandable)

**Input (—á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é):**
```python
from telegram_formatter import format_rag_answer

answer = "Python - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"
sources = [
    {"url": "https://t.me/python/123", "channel_username": "python_news", "posted_at": "2024-01-15"}
]

formatted = format_rag_answer(answer, sources)
```

**Output HTML:**
```html
Python - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

<blockquote expandable>üìö <b>–ò—Å—Ç–æ—á–Ω–∏–∫–∏:</b>
1. <a href="https://t.me/python/123">@python_news</a> <i>(2024-01-15)</i>
</blockquote>
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
```
Python - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

[‚ñº –†–∞—Å–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:     ‚Üê –ö–ª–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
```

–ü–æ—Å–ª–µ –∫–ª–∏–∫–∞:
```
Python - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

[‚ñ≤ –°–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
1. @python_news (2024-01-15)   ‚Üê –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
```

---

## üí¨ –°–ø–æ–π–ª–µ—Ä—ã

### 4. –°–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç

**Input Markdown:**
```markdown
–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç ||—Å–ø–æ–π–ª–µ—Ä|| –µ—â–µ —Ç–µ–∫—Å—Ç
```

**Output HTML:**
```html
–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç <tg-spoiler>—Å–ø–æ–π–ª–µ—Ä</tg-spoiler> –µ—â–µ —Ç–µ–∫—Å—Ç
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
```
–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç [‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†] –µ—â–µ —Ç–µ–∫—Å—Ç  ‚Üê –†–∞–∑–º—ã—Ç—ã–π —Ç–µ–∫—Å—Ç
```

–ü–æ—Å–ª–µ –∫–ª–∏–∫–∞:
```
–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–ø–æ–π–ª–µ—Ä –µ—â–µ —Ç–µ–∫—Å—Ç   ‚Üê –í–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç
```

---

## üíª –ö–æ–¥

### 5. Inline –∫–æ–¥

**Input Markdown:**
```markdown
–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É `docker ps`
```

**Output HTML:**
```html
–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É <code>docker ps</code>
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
> –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É `docker ps` ‚Üê –°–µ—Ä—ã–π —Ñ–æ–Ω, –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç

---

### 6. Code block —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π

**Input Markdown:**
````markdown
```python
def hello():
    print("world")
```
````

**Output HTML:**
```html
<pre><code class="language-python">def hello():
    print("world")</code></pre>
```

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤ Telegram:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ def hello():    ‚îÇ  ‚Üê –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç
‚îÇ     print("w")  ‚îÇ  ‚Üê –°–µ—Ä—ã–π –±–ª–æ–∫
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    Python          ‚Üê –ú–µ—Ç–∫–∞ —è–∑—ã–∫–∞ —Å–Ω–∏–∑—É
```

---

## üìä –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### 7. RAG –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

```python
from telegram_formatter import format_rag_answer

answer = """
**Python** - —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π *—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è*.

–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –ë–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
1. –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. Data Science
3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
"""

sources = [
    {
        "url": "https://t.me/python_news/456",
        "channel_username": "python_news",
        "posted_at": "2024-01-15",
        "excerpt": "Python - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —è–∑—ã–∫–æ–≤..."
    },
    {
        "url": "https://t.me/dev_channel/789",
        "channel_username": "dev_channel",
        "posted_at": "2024-01-10"
    }
]

result = format_rag_answer(answer, sources)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**

```
üí° –û—Ç–≤–µ—Ç:

Python - —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
‚Ä¢ –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
‚Ä¢ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
‚Ä¢ –ë–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
1. –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. Data Science
3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

[‚ñº –†–∞—Å–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
```

–ü–æ—Å–ª–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è:
```
[‚ñ≤ –°–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
1. @python_news (2024-01-15)
   Python - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —è–∑—ã–∫–æ–≤...
2. @dev_channel (2024-01-10)
```

---

### 8. –î–ª–∏–Ω–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç

```python
from telegram_formatter import format_long_digest

digest = """
# –ù–æ–≤–æ—Å—Ç–∏ –∑–∞ –Ω–µ–¥–µ–ª—é

## AI & ML
–í—ã—à–ª–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è PyTorch 2.0 —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.
OpenAI –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ GPT-5 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏.
Google –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å Gemini Ultra.

## Web Development
React 19 –¥–æ–±–∞–≤–∏–ª Server Components.
Next.js 14 —É–ª—É—á—à–∏–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 50%.
Vue 4 –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## DevOps
Kubernetes 1.29 —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª –Ω–æ–≤—ã–µ API.
Docker –¥–æ–±–∞–≤–∏–ª –ø–æ–¥–¥–µ—Ä–∂–∫—É WASM.
Terraform 1.7 —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏.
""" * 3  # –î–µ–ª–∞–µ–º –¥–ª–∏–Ω–Ω—ã–º

result = format_long_digest(digest, max_visible=500)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**

```
–ù–æ–≤–æ—Å—Ç–∏ –∑–∞ –Ω–µ–¥–µ–ª—é

AI & ML
–í—ã—à–ª–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è PyTorch 2.0 —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.
OpenAI –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ GPT-5 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç–∏.
Google –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å Gemini Ultra.

Web Development
React 19 –¥–æ–±–∞–≤–∏–ª Server Components.
Next.js 14 —É–ª—É—á—à–∏–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 50%.
Vue 4 –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å...

[‚ñº –†–∞—Å–∫—Ä—ã—Ç—å]
```

–ü–æ—Å–ª–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ç–µ–∫—Å—Ç.

---

### 9. Groups —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ

```python
from telegram_formatter import format_mention_for_telegram

analysis = {
    "urgency": "urgent",
    "context": "–û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.",
    "mention_reason": "–ù—É–∂–Ω–∞ —Å—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º auth —Å–µ—Ä–≤–∏—Å–∞",
    "key_points": [
        "Auth service –ø–∞–¥–∞–µ—Ç —Å 500 –æ—à–∏–±–∫–æ–π",
        "–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
        "–ù—É–∂–µ–Ω hotfix –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞"
    ]
}

result = format_mention_for_telegram(
    analysis, 
    "DevOps Chat", 
    "https://t.me/c/123456/789"
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**

```
üî¥ –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –≥—Ä—É–ø–ø–µ

–ì—Ä—É–ø–ø–∞: DevOps Chat

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
‚îÉ –û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. 
‚îÉ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.

–ü–æ—á–µ–º—É —É–ø–æ–º—è–Ω—É–ª–∏: –ù—É–∂–Ω–∞ —Å—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º auth —Å–µ—Ä–≤–∏—Å–∞

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
‚Ä¢ Auth service –ø–∞–¥–∞–µ—Ç —Å 500 –æ—à–∏–±–∫–æ–π
‚Ä¢ –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã 1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚Ä¢ –ù—É–∂–µ–Ω hotfix –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞

üì¨ –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é

–°—Ä–æ—á–Ω–æ—Å—Ç—å: URGENT ‚Ä¢ 15:30
```

---

### 10. AI –î–∞–π–¥–∂–µ—Å—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram:**

```
ü§ñ AI-–î–∞–π–¥–∂–µ—Å—Ç
–ü–µ—Ä–∏–æ–¥: 01.10.2024 - 07.10.2024
–¢–µ–º: 3

üí∞ 1. –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
–ü–æ—Å—Ç–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: 45

Bitcoin –¥–æ—Å—Ç–∏–≥ –Ω–æ–≤–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞ –≤ 2024 –≥–æ–¥—É. Ethereum 
–æ–±–Ω–æ–≤–∏–ª –ø—Ä–æ—Ç–æ–∫–æ–ª —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å—é. 
–†–µ–≥—É–ª—è—Ç–æ—Ä—ã –æ–±—Å—É–∂–¥–∞—é—Ç –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è DeFi.

[‚ñº –†–∞—Å–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:

üöó 2. –ê–≤—Ç–æ–º–æ–±–∏–ª–∏
–ü–æ—Å—Ç–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: 32

Tesla –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å —Å –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–æ–º 4.0.
BMW –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Å–µ–¥–∞–Ω i7. –ö–∏—Ç–∞–π—Å–∫–∏–µ
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ —É–≤–µ–ª–∏—á–∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç EV –Ω–∞ 40%.

[‚ñº –†–∞—Å–∫—Ä—ã—Ç—å] üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–î–∞–π–¥–∂–µ—Å—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω AI (GigaChat) ‚Ä¢ 07.10.2024 18:00
```

---

## üéØ Best Practices

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

```python
# 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏
from telegram_formatter import markdownify, format_rag_answer

user_input = "Python & ML"
safe_text = markdownify(user_input)  # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç &

# 2. RAG –æ—Ç–≤–µ—Ç—ã —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
formatted = format_rag_answer(answer, sources)

# 3. –î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
formatted = format_long_digest(long_text, max_visible=500)
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

```python
# 1. –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
await bot.send_message(chat_id, user_input, parse_mode='HTML')  # –û–ü–ê–°–ù–û!

# 2. –ù–ï –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
text = f"<b>{user_input}</b>"  # –ï—Å–ª–∏ user_input —Å–æ–¥–µ—Ä–∂–∏—Ç <, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞

# 3. –ù–ï —Å–º–µ—à–∏–≤–∞—Ç—å Markdown –∏ HTML
text = "**bold** <i>italic</i>"  # –ù–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
```

---

## üì± –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram

### 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```python
import asyncio
from telegram import Bot

async def test_formatting():
    bot = Bot(token="YOUR_BOT_TOKEN")
    
    test_html = """
<b>–ñ–∏—Ä–Ω—ã–π</b> –∏ <i>–∫—É—Ä—Å–∏–≤</i>

<blockquote>–≠—Ç–æ —Ü–∏—Ç–∞—Ç–∞</blockquote>

<blockquote expandable>–†–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è –±–ª–æ–∫
–° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
–°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</blockquote>

–°–ø–æ–π–ª–µ—Ä: <tg-spoiler>—Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç</tg-spoiler>

<code>inline code</code>

<pre><code class="language-python">
def test():
    print("hello")
</code></pre>
"""
    
    await bot.send_message(
        chat_id=YOUR_CHAT_ID,
        text=test_html,
        parse_mode='HTML'
    )

asyncio.run(test_formatting())
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å expandable

–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –±–ª–æ–∫ –≤ Telegram - –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–∫—Ä—ã—Ç—å—Å—è/—Å–∫—Ä—ã—Ç—å—Å—è

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä

–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Ä–∞–∑–º—ã—Ç—ã–π —Ç–µ–∫—Å—Ç - –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –≤–∏–¥–∏–º—ã–º

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å code block

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç
- –°–µ—Ä—ã–π —Ñ–æ–Ω
- –ú–µ—Ç–∫–∞ —è–∑—ã–∫–∞ —Å–Ω–∏–∑—É (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Can't parse entities"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π HTML –∏–ª–∏ –Ω–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã

**–†–µ—à–µ–Ω–∏–µ:**
```python
from telegram_formatter import markdownify

# –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ markdownify –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
safe_text = markdownify(user_text)
```

### –ü—Ä–æ–±–ª–µ–º–∞: Expandable –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```html
<!-- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ -->
<blockquote expand>text</blockquote>

<!-- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ -->
<blockquote expandable>text</blockquote>
```

### –ü—Ä–æ–±–ª–µ–º–∞: Code block –±–µ–∑ –ø–æ–¥—Å–≤–µ—Ç–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```html
<!-- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ -->
<pre language="python">code</pre>

<!-- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ -->
<pre><code class="language-python">code</code></pre>
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API - HTML Style](https://core.telegram.org/bots/api#html-style)
- [Telegram Bot API - Formatting Options](https://core.telegram.org/bots/api#formatting-options)
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: `telethon/telegram_formatter.py`
- –¢–µ—Å—Ç—ã: `telethon/tests/test_telegram_formatter.py`

