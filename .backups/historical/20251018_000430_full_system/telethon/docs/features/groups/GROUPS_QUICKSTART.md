# üë• Telegram Groups Integration - Quick Start

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 15 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram –≥—Ä—É–ø–ø –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–≤–∞ –º–æ—â–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

1. **üìä –î–∞–π–¥–∂–µ—Å—Ç—ã –¥–∏–∞–ª–æ–≥–æ–≤** - AI-–∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –∑–∞ N —á–∞—Å–æ–≤ —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–º –∏ —Å–ø–∏–∫–µ—Ä–æ–≤
2. **üîî Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ (@username) —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –ø—Ä–∏—á–∏–Ω–æ–π

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ Multi-agent –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ GigaChat (4 AI –∞–≥–µ–Ω—Ç–∞)
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (15-25 —Å–µ–∫)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n workflows (–±–µ–∑ —É–≤–µ–ª–∏—á–µ–Ω–∏—è Docker –æ–±—Ä–∞–∑–∞)
- ‚úÖ –õ–∏–º–∏—Ç—ã –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º (free: 2 –≥—Ä—É–ø–ø—ã, basic: 5, premium: 20)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç n8n Workflows

**–í–∞–∂–Ω–æ:** –°–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ workflows –≤ n8n!

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n UI: `https://n8n.produman.studio`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Workflows** ‚Üí **Import from File**
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã:
   - `n8n/workflows/group_dialogue_multi_agent.json`
   - `n8n/workflows/group_mention_analyzer.json`
4. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–±–∞ workflow** (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ø—Ä–∞–≤–∞)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl -X POST http://localhost:5678/webhook/group-digest \
  -H "Content-Type: application/json" \
  -d '{"messages": [], "user_id": 1, "group_id": 1, "hours": 24}'

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Ç–µ–º–∞–º–∏, —Å–ø–∏–∫–µ—Ä–∞–º–∏ –∏ —Ä–µ–∑—é–º–µ
```

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ telethon/
cd /home/ilyasni/n8n-server/n8n-installer/telethon

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
python scripts/migrations/add_groups_support.py migrate

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã: groups, user_group, group_mentions, group_settings
```

**Rollback (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```bash
python scripts/migrations/add_groups_support.py rollback
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
docker restart telethon telethon-bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs telethon -f
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# ‚úÖ GroupMonitorService –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
# üëÄ –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≥—Ä—É–ø–ø...
```

### –®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É

–í Telegram –±–æ—Ç–µ:

```
/add_group https://t.me/your_group
```

–ò–ª–∏ —Å ID:
```
/add_group -1001234567890
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ì—Ä—É–ø–ø–∞ "–ú–æ—è –≥—Ä—É–ø–ø–∞" –¥–æ–±–∞–≤–ª–µ–Ω–∞!

üîî –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
üìä –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /group_digest –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤

–ù–∞—Å—Ç—Ä–æ–π–∫–∏: /group_settings
```

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ—Å—Ç 1: –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –≥—Ä—É–ø–ø–µ**
1. –í –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π –≥—Ä—É–ø–ø–µ –Ω–∞–ø–∏—à–∏—Ç–µ: `@–≤–∞—à_username –ø–æ–º–æ–≥–∏ —Å –∑–∞–¥–∞—á–µ–π`
2. –í —Ç–µ—á–µ–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   üü° –í–∞—Å —É–ø–æ–º—è–Ω—É–ª–∏ –≤ –≥—Ä—É–ø–ø–µ: –ú–æ—è –≥—Ä—É–ø–ø–∞
   
   –ö–æ–Ω—Ç–µ–∫—Å—Ç: –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã
   –ü–æ—á–µ–º—É —É–ø–æ–º—è–Ω—É–ª–∏: –ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏
   
   –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
   ‚Ä¢ –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∑–∞–¥–∞—á–µ–π
   ‚Ä¢ –°—Ä–æ—á–Ω–æ—Å—Ç—å: medium
   
   [–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é](https://t.me/...)
   ```

**–¢–µ—Å—Ç 2: –î–∞–π–¥–∂–µ—Å—Ç –¥–∏–∞–ª–æ–≥–∞**
```
/group_digest 24
```

–ß–µ—Ä–µ–∑ 20-30 —Å–µ–∫—É–Ω–¥ –ø–æ–ª—É—á–∏—Ç–µ:
```
# üìä –î–∞–π–¥–∂–µ—Å—Ç –≥—Ä—É–ø–ø—ã: –ú–æ—è –≥—Ä—É–ø–ø–∞
**–ü–µ—Ä–∏–æ–¥:** 24 hours
**–°–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 150

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:
1. Python —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
2. Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üë• –ê–∫—Ç–∏–≤–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏:
‚Ä¢ @alice: –û–±—Å—É–∂–¥–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Docker...
‚Ä¢ @bob: –ü—Ä–µ–¥–ª–∞–≥–∞–ª —Ä–µ—à–µ–Ω–∏—è –ø–æ Python...
‚Ä¢ @charlie: –î–µ–ª–∏–ª—Å—è –æ–ø—ã—Ç–æ–º —Å PostgreSQL...

## üìù –†–µ–∑—é–º–µ:
–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤...
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
/group_settings

# –í—ã–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
/group_settings mentions off

# –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
/group_settings mentions on

# –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ/–ø–æ—Å–ª–µ –±—Ä–∞—Ç—å)
/group_settings context 10

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
/group_settings digest_hours 48
```

### –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø

```bash
/my_groups
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
üìä –í–∞—à–∏ –≥—Ä—É–ø–ø—ã (2/5):

1. üü¢ –ú–æ—è –≥—Ä—É–ø–ø–∞
   üîî –£–ø–æ–º–∏–Ω–∞–Ω–∏—è | ID: -1001234567890
   
2. üü¢ –†–∞–±–æ—á–∏–π —á–∞—Ç
   üîî –£–ø–æ–º–∏–Ω–∞–Ω–∏—è | ID: -1009876543210

üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /group_settings –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Multi-Agent —Å–∏—Å—Ç–µ–º–∞ (n8n Workflow)

```
üì• Input: –°–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø—ã
     ‚Üì
  Webhook
     ‚Üì
  Prepare Prompts
     ‚Üì
  ‚îå‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ ~5-8 —Å–µ–∫)
  ‚Üì     ‚Üì      ‚Üì
Agent1 Agent2 Agent3
Topics Speakers Summary
  ‚Üì     ‚Üì      ‚Üì
  ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚Üì
  Merge Results
     ‚Üì
  Agent4: Aggregator (~10-15 —Å–µ–∫)
  (GigaChat-Max)
     ‚Üì
üì§ Output: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
```

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏:**
- **Agent 1-3**: `GigaChat` (–±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å)
- **Agent 4**: `GigaChat-Max` (–¥–ª—è —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏)

**Timing:**
- Agent 1-3: 5-8 —Å–µ–∫ –∫–∞–∂–¥—ã–π (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- Agent 4: 10-15 —Å–µ–∫
- **Total: 15-25 —Å–µ–∫—É–Ω–¥**

### Real-Time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```
Telethon Event Handler
     ‚Üì
NewMessage —Å–æ–±—ã—Ç–∏–µ
     ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
(@username –∏–ª–∏ mention entity)
     ‚Üì
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
(5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ/–ø–æ—Å–ª–µ)
     ‚Üì
n8n Workflow
Analyze Mention
     ‚Üì
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
(group_mentions)
     ‚Üì
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

---

## üìä –õ–∏–º–∏—Ç—ã –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º

| –ü–æ–¥–ø–∏—Å–∫–∞ | –ì—Ä—É–ø–ø | –£–ø–æ–º–∏–Ω–∞–Ω–∏—è |
|----------|-------|------------|
| **Free** | 2 | ‚úÖ |
| **Trial** | 5 | ‚úÖ |
| **Basic** | 5 | ‚úÖ |
| **Premium** | 20 | ‚úÖ |
| **Enterprise** | 100 | ‚úÖ |

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É: `/subscription`

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `telethon/.env`:

```bash
# n8n Webhooks –¥–ª—è –≥—Ä—É–ø–ø
N8N_GROUP_DIGEST_WEBHOOK=http://n8n:5678/webhook/group-digest
N8N_MENTION_ANALYZER_WEBHOOK=http://n8n:5678/webhook/mention-analyzer

# Timeouts (—Å–µ–∫—É–Ω–¥—ã)
N8N_DIGEST_TIMEOUT=120    # 2 –º–∏–Ω—É—Ç—ã –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞
N8N_MENTION_TIMEOUT=60    # 1 –º–∏–Ω—É—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è

# –õ–∏–º–∏—Ç—ã
DIGEST_MAX_MESSAGES=200   # –ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
```

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "n8n workflow not found"

**–ü—Ä–∏—á–∏–Ω–∞:** Workflow –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ n8n

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n UI
2. –ù–∞–π–¥–∏—Ç–µ workflow "Group Dialogue Multi-Agent"
3. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –∑–µ–ª–µ–Ω—ã–º)
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è "Group Mention Analyzer"

### –û—à–∏–±–∫–∞: "gpt2giga-proxy unavailable"

**–ü—Ä–∏—á–∏–Ω–∞:** GigaChat proxy –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker ps | grep gpt2giga

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs gpt2giga-proxy

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker restart gpt2giga-proxy
```

### –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω?**
   ```bash
   docker logs telethon | grep "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω"
   ```

2. **–ì—Ä—É–ø–ø–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞?**
   ```
   /my_groups
   ```

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã?**
   ```
   /group_settings
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úÖ –í–∫–ª—é—á–µ–Ω—ã
   ```

4. **–í—ã —É–ø–æ–º—è–Ω—É—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ?**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @username (–Ω–µ @first_name!)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ username: /auth_status

### –î–∞–π–¥–∂–µ—Å—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–æ–ª–≥–æ (>60 —Å–µ–∫)

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π (>200)
- GigaChat API –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ –ø–µ—Ä–∏–æ–¥: `/group_digest 12` (–≤–º–µ—Å—Ç–æ 24)
2. –£–º–µ–Ω—å—à–∏—Ç–µ DIGEST_MAX_MESSAGES –≤ .env
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å GigaChat proxy

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≥—Ä—É–ø–ø

```bash
# –û–±—â–∏–µ –ª–æ–≥–∏
docker logs telethon -f | grep -E "(GroupMonitor|–≥—Ä—É–ø–ø–∞|—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ)"

# –¢–æ–ª—å–∫–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
docker logs telethon | grep "üîî –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ"

# –û—à–∏–±–∫–∏
docker logs telethon 2>&1 | grep -E "(ERROR|‚ùå)" | grep -i group
```

### –°—Ç–∞—Ç—É—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Admin API)

```bash
curl "http://localhost:8010/api/admin/stats/groups?admin_id=123&token=xxx"

# –û—Ç–≤–µ—Ç:
{
  "total_groups": 15,
  "mentions_today": 42,
  "mentions_week": 187,
  "active_monitors": 8,
  "monitored_groups_total": 15
}
```

### n8n Executions

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n UI: `https://n8n.produman.studio`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Executions**
3. –§–∏–ª—å—Ç—Ä: "Group Dialogue Multi-Agent"
4. –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –∏ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–µ–π—Å 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—á–µ–≥–æ —á–∞—Ç–∞

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–π —á–∞—Ç
/add_group https://t.me/work_chat

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
/group_settings context 3  # –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Ä–∞–±–æ—á–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

# 3. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
/group_digest 24
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–æ–≥–¥–∞ –≤–∞—Å —É–ø–æ–º–∏–Ω–∞—é—Ç
- –í–∏–¥–∏—Ç–µ —Ä–µ–∑—é–º–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∑–∞ –¥–µ–Ω—å
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç–µ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ö–µ–π—Å 2: –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
/add_group https://t.me/community_group

# 2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç—ã –∑–∞ –Ω–µ–¥–µ–ª—é
/group_digest 168  # 7 –¥–Ω–µ–π

# 3. –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏–¥–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –æ–±—Å—É–∂–¥–µ–Ω–∏–π
- –ü–æ–Ω–∏–º–∞–µ—Ç–µ –∫—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–µ–Ω
- –í—ã—è–≤–ª—è–µ—Ç–µ —Ç—Ä–µ–Ω–¥—ã –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã

### –ö–µ–π—Å 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥—Ä—É–ø–ø–∞–º–∏

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≥—Ä—É–ø–ø—ã
/my_groups

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π
/group_settings mentions on    # –ì–ª–æ–±–∞–ª—å–Ω–æ
# –ò–ª–∏ per-group —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

# 3. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
/group_digest 24
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **User Isolation** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –≥—Ä—É–ø–ø—ã
2. **QR Authorization** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è userbot –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
3. **No Message Storage** - —Å–æ–æ–±—â–µ–Ω–∏—è –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (—Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑)
4. **Redis Sessions** - secure admin sessions —Å TTL
5. **Per-Group Settings** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- ‚úÖ –¢–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –¥–æ–±–∞–≤–∏–ª
- ‚úÖ –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
- ‚úÖ –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ß—Ç–æ –≤–∏–¥–∏—Ç –∞–¥–º–∏–Ω:**
- ‚úÖ –í—Å–µ –≥—Ä—É–ø–ø—ã –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É–ø–æ–º–∏–Ω–∞–Ω–∏–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## ü§ñ AI Multi-Agent –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Agent 1: Topic Extractor

**–ó–∞–¥–∞—á–∞:** –ò–∑–≤–ª–µ—á—å 3-5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º –æ–±—Å—É–∂–¥–µ–Ω–∏—è

**–ü—Ä–æ–º–ø—Ç:**
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–∏–∞–ª–æ–≥ –≤ Telegram –≥—Ä—É–ø–ø–µ.
–ò–∑–≤–ª–µ–∫–∏ 3-5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
–í–µ—Ä–Ω–∏ JSON: {"topics": ["—Ç–µ–º–∞1", "—Ç–µ–º–∞2"]}
```

**–ú–æ–¥–µ–ª—å:** GigaChat  
**Timeout:** 60 —Å–µ–∫

### Agent 2: Speaker Analyzer

**–ó–∞–¥–∞—á–∞:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—Ç–æ –æ —á–µ–º –≥–æ–≤–æ—Ä–∏–ª

**–ü—Ä–æ–º–ø—Ç:**
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫—Ç–æ –æ —á–µ–º –≥–æ–≤–æ—Ä–∏–ª –≤ –¥–∏–∞–ª–æ–≥–µ.
–°–æ–∑–¥–∞–π —Ä–µ–∑—é–º–µ –ø–æ –∫–∞–∂–¥–æ–º—É –∞–∫—Ç–∏–≤–Ω–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É (—Ç–æ–ø-5).
–í–µ—Ä–Ω–∏ JSON: {"speakers": {"username": "—Ä–µ–∑—é–º–µ"}}
```

**–ú–æ–¥–µ–ª—å:** GigaChat  
**Timeout:** 60 —Å–µ–∫

### Agent 3: Context Summarizer

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

**–ü—Ä–æ–º–ø—Ç:**
```
–°–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –≤ –≥—Ä—É–ø–ø–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).
–í–µ—Ä–Ω–∏ JSON: {"summary": "—Ç–µ–∫—Å—Ç"}
```

**–ú–æ–¥–µ–ª—å:** GigaChat  
**Timeout:** 60 —Å–µ–∫

### Agent 4: Aggregator

**–ó–∞–¥–∞—á–∞:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–º–ø—Ç:**
```
–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–∑–¥–∞–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç:
- –¢–µ–º—ã: [...]
- –°–ø–∏–∫–µ—Ä—ã: {...}
- –†–µ–∑—é–º–µ: "..."

–í–µ—Ä–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
```

**–ú–æ–¥–µ–ª—å:** GigaChat-Max  
**Timeout:** 90 —Å–µ–∫

---

## üìà Performance

### –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | –ú–æ–¥–µ–ª—å |
|----------|-------|--------|
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã | 2-5 —Å–µ–∫ | - |
| –ê–Ω–∞–ª–∏–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è | 5-10 —Å–µ–∫ | GigaChat |
| –î–∞–π–¥–∂–µ—Å—Ç (50 —Å–æ–æ–±—â–µ–Ω–∏–π) | 15-20 —Å–µ–∫ | 4x GigaChat |
| –î–∞–π–¥–∂–µ—Å—Ç (200 —Å–æ–æ–±—â–µ–Ω–∏–π) | 20-30 —Å–µ–∫ | 4x GigaChat |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ –ø–µ—Ä–∏–æ–¥: `/group_digest 12` –≤–º–µ—Å—Ç–æ 24
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `GigaChat` –≤–º–µ—Å—Ç–æ `GigaChat-Max` –¥–ª—è Agent 4
3. –£–º–µ–Ω—å—à–∏—Ç–µ DIGEST_MAX_MESSAGES –¥–æ 100

**–î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏:**
1. –õ–∏–º–∏—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ rate limiting —á–µ—Ä–µ–∑ Redis
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏–π (retention)

---

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Open WebUI

n8n workflows –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ Open WebUI —á–µ—Ä–µ–∑ `n8n_pipe.py`:

```python
# –í Open WebUI Functions
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ n8n_pipe.py —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π:
n8n_url = "https://n8n.produman.studio/webhook/group-digest"
```

### Flowise

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å Chatflow –≤ Flowise —Å –≤—ã–∑–æ–≤–æ–º n8n webhook:

```
HTTP Request Node ‚Üí n8n Workflow ‚Üí Return Result
```

### API –Ω–∞–ø—Ä—è–º—É—é

```bash
# –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ n8n workflow
curl -X POST http://n8n:5678/webhook/group-digest \
  -H "Content-Type: application/json" \
  -d @group_messages.json
```

---

## üìö API Endpoints

### User API

```bash
# –¢–µ–∫—É—â–∏—Ö endpoints –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram Bot –∫–æ–º–∞–Ω–¥—ã
```

### Admin API

```bash
# –í—Å–µ –≥—Ä—É–ø–ø—ã
GET /api/admin/groups?admin_id=123&token=xxx

# –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /api/admin/user/456/groups?admin_id=123&token=xxx

# Toggle —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
POST /api/admin/user/456/group/789/mentions?admin_id=123&token=xxx&enabled=true

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä—É–ø–ø
GET /api/admin/stats/groups?admin_id=123&token=xxx
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "total_groups": 15,
  "mentions_today": 42,
  "mentions_week": 187,
  "active_monitors": 8,
  "monitored_groups_total": 15
}
```

---

## üóÑÔ∏è Database Schema

### –¢–∞–±–ª–∏—Ü—ã

**groups** - Telegram –≥—Ä—É–ø–ø—ã
```sql
CREATE TABLE groups (
    id SERIAL PRIMARY KEY,
    group_id BIGINT UNIQUE NOT NULL,
    group_title VARCHAR,
    group_username VARCHAR,
    created_at TIMESTAMP WITH TIME ZONE
);
```

**user_group** - Many-to-many —Å–≤—è–∑—å
```sql
CREATE TABLE user_group (
    user_id INTEGER REFERENCES users(id),
    group_id INTEGER REFERENCES groups(id),
    is_active BOOLEAN DEFAULT TRUE,
    mentions_enabled BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE,
    PRIMARY KEY (user_id, group_id)
);
```

**group_mentions** - –ò—Å—Ç–æ—Ä–∏—è —É–ø–æ–º–∏–Ω–∞–Ω–∏–π
```sql
CREATE TABLE group_mentions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    group_id INTEGER REFERENCES groups(id),
    message_id BIGINT NOT NULL,
    mentioned_at TIMESTAMP WITH TIME ZONE,
    context TEXT,
    reason TEXT,
    urgency VARCHAR,
    notified BOOLEAN DEFAULT FALSE,
    notified_at TIMESTAMP WITH TIME ZONE,
    UNIQUE (user_id, group_id, message_id)
);
```

**group_settings** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```sql
CREATE TABLE group_settings (
    id SERIAL PRIMARY KEY,
    user_id INTEGER UNIQUE REFERENCES users(id),
    mentions_enabled BOOLEAN DEFAULT TRUE,
    mention_context_messages INTEGER DEFAULT 5,
    digest_default_hours INTEGER DEFAULT 24,
    digest_max_messages INTEGER DEFAULT 200
);
```

---

## ‚úÖ Checklist —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] n8n workflows –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã telethon/telethon-bot –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã
- [ ] gpt2giga-proxy –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .env
- [ ] –ö–æ–º–∞–Ω–¥—ã /add_group, /my_groups —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –¥–∞–π–¥–∂–µ—Å—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

---

## üéì Best Practices

### 1. –õ–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π

–ù–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ —Ä–∞–∑:
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ: 50-100 —Å–æ–æ–±—â–µ–Ω–∏–π (–±—ã—Å—Ç—Ä–æ, —Ç–æ—á–Ω–æ)
- ‚ö†Ô∏è –ü—Ä–∏–µ–º–ª–µ–º–æ: 100-200 —Å–æ–æ–±—â–µ–Ω–∏–π (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- ‚ùå –ò–∑–±–µ–≥–∞–π—Ç–µ: >200 —Å–æ–æ–±—â–µ–Ω–∏–π (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–µ—Ç–æ—á–Ω–æ)

### 2. –ü–µ—Ä–∏–æ–¥ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤

–í—ã–±–∏—Ä–∞–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã:
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞: 12-24 —á–∞—Å–∞
- ‚úÖ –°—Ä–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 24-48 —á–∞—Å–æ–≤
- ‚ö†Ô∏è –ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 48-168 —á–∞—Å–æ–≤ (–Ω–µ–¥–µ–ª—è)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–î–ª—è –≤—ã—Å–æ–∫–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø:
- `/group_settings context 3` - –º–µ–Ω—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–µ–≤–∞–∂–Ω—ã–µ –≥—Ä—É–ø–ø—ã

–î–ª—è –≤–∞–∂–Ω—ã—Ö –≥—Ä—É–ø–ø:
- `/group_settings context 10` - –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –í–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ:
```bash
# –û—à–∏–±–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
docker logs telethon | grep "GroupMonitor.*ERROR"

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å n8n workflows
# n8n UI ‚Üí Executions ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
cd /home/ilyasni/n8n-server/n8n-installer/telethon
python scripts/migrations/add_groups_support.py rollback

# –í–ù–ò–ú–ê–ù–ò–ï: –£–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø!
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ n8n Workflows

1. –ò–∑–º–µ–Ω–∏—Ç–µ JSON —Ñ–∞–π–ª—ã –≤ `n8n/workflows/`
2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ workflows –≤ n8n UI
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ
4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ

---

## üìû Support

**–í–æ–ø—Ä–æ—Å—ã –∏ –±–∞–≥–∏:**
- GitHub Issues: —Å–æ–∑–¥–∞–π—Ç–µ issue —Å —Ç–µ–≥–æ–º `groups`
- Logs: –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –≤—ã–≤–æ–¥ `docker logs telethon`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- n8n Workflows: `n8n/workflows/README_GROUP_WORKFLOWS.md`
- Database: `.cursor/rules/telegram-bot/03-database.mdc`
- Architecture: `.cursor/rules/telegram-bot/02-architecture.mdc`

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à –±–æ—Ç –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥–∏ –≤ –≥—Ä—É–ø–ø–∞—Ö –∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –æ–± —É–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö —Å AI-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º üöÄ

