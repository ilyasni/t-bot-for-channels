############################################################
# Telegram Channel Parser - Environment Variables
############################################################
#
# ВАЖНО: Этот сервис интегрирован в основной проект.
# Основные переменные (DATABASE_URL, ENCRYPTION_KEY, BOT_TOKEN,
# DEFAULT_RETENTION_DAYS, CLEANUP_SCHEDULE_TIME и др.) 
# должны быть настроены в корневом файле .env проекта.
#
# Для запуска сервиса используйте:
#   python start_services.py (в корне проекта)
#
############################################################

# Parser settings
PARSER_INTERVAL_MINUTES=30
MAX_POSTS_PER_CHANNEL=50

# Server settings
HOST=0.0.0.0
PORT=8010

# Web Authentication Server settings
AUTH_BASE_URL=https://telegram-auth.produman.studio
# Для разработки можно использовать:
# AUTH_BASE_URL=https://localhost:8000

# OpenRouter AI settings (для автоматического тегирования постов)
OPENROUTER_API_KEY=your_openrouter_api_key_here
# Бесплатные модели (выберите одну):
# OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free (рекомендуется)
# OPENROUTER_MODEL=meta-llama/llama-3.2-3b-instruct:free
# OPENROUTER_MODEL=qwen/qwen-2-7b-instruct:free
# OPENROUTER_MODEL=google/gemma-2-9b-it:free
OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free
TAGGING_BATCH_SIZE=10

# Retry настройки для тегирования
TAGGING_MAX_RETRIES=3          # Количество retry при временных ошибках API (502, 503, 504)
TAGGING_RETRY_DELAY=2.0        # Начальная задержка перед retry (секунды, экспоненциально увеличивается)
TAGGING_MAX_ATTEMPTS=5         # Максимальное общее количество попыток для одного поста

############################################################
# Переменные из корневого .env проекта:
############################################################
# BOT_TOKEN - токен Telegram бота (получить у @BotFather)
# TELEGRAM_DATABASE_URL - URL базы данных
#   По умолчанию: sqlite:///./telethon/data/telethon_bot.db
#   Для PostgreSQL: postgresql://postgres:password@db:5432/postgres
# ENCRYPTION_KEY - используется общий ключ из корневого .env
# POSTGRES_PASSWORD - для подключения к Supabase (если используется)
# DEFAULT_RETENTION_DAYS - период хранения постов (по умолчанию 30 дней)
# CLEANUP_SCHEDULE_TIME - время ежедневной очистки (формат HH:MM, по умолчанию 03:00)
############################################################
