# üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Open WebUI

**–°—Ç–∞—Ç—É—Å:** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** Open WebUI, n8n, n8n_pipe.py

---

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ Open WebUI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è?

Open WebUI - —ç—Ç–æ ChatGPT-like –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI-–º–æ–¥–µ–ª—è–º–∏.

**n8n_pipe.py** (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞) - —ç—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å n8n workflows –∫–∞–∫ "pipe" (–∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏) –≤ Open WebUI.

---

## üîó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Telegram Bot):
```
Telegram Bot ‚Üí Telethon API ‚Üí RAG Service ‚Üí –û—Ç–≤–µ—Ç
```

### –° Open WebUI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```
Open WebUI ‚Üí n8n_pipe ‚Üí n8n Workflow ‚Üí Telethon API ‚Üí RAG Service ‚Üí –û—Ç–≤–µ—Ç
```

---

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

### Use cases:

1. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è RAG:**
   - –í–º–µ—Å—Ç–æ Telegram –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-—á–∞—Ç
   - –£–¥–æ–±–Ω–æ –¥–ª—è desktop –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Å–∞–π—Ç

2. **n8n –∫–∞–∫ middleware:**
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–¥ RAG
   - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –≤ Open WebUI
   - Markdown –∏ code highlighting
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

---

## üõ†Ô∏è –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å n8n workflow

**Webhook Trigger:**
- URL: `https://n8n.produman.studio/webhook/telegram-rag`
- Method: POST
- Response: JSON

**Workflow:**
```
1. Webhook Trigger
   ‚Üì
2. HTTP Request (Telethon API)
   - GET http://telethon:8010/users/{user_id}/posts
   ‚Üì
3. HTTP Request (RAG Service)
   - POST http://rag-service:8020/rag/query
   - Body: {"query": "{{ $json.chatInput }}", "user_id": ...}
   ‚Üì
4. Response
   - Return: {{ $json.answer }}
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å n8n_pipe –≤ Open WebUI

**–§–∞–π–ª:** `/home/ilyasni/n8n-server/n8n-installer/n8n_pipe.py`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (Valves):**
```python
n8n_url = "https://n8n.produman.studio/webhook/telegram-rag"
n8n_bearer_token = "your_n8n_webhook_token"
input_field = "query"
response_field = "answer"
```

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ Open WebUI

1. –û—Ç–∫—Ä–æ–π—Ç–µ Open WebUI
2. Settings ‚Üí Functions
3. Upload `n8n_pipe.py`
4. Configure Valves
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –í Open WebUI –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å "n8n Pipe"
2. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å
3. n8n –≤—ã–∑–æ–≤–µ—Ç –≤–∞—à RAG service
4. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### Telegram Bot (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):
‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø  
‚úÖ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram  
‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚ùå –¢–æ–ª—å–∫–æ –≤ Telegram  

### Open WebUI + n8n_pipe:
‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
‚úÖ Desktop –¥–æ—Å—Ç—É–ø  
‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI  
‚úÖ –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤  
‚úÖ –ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ —Å–∞–π—Ç  
‚ùå –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É  
‚ùå –¢—Ä–µ–±—É–µ—Ç n8n workflow  

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
**‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram Bot**
- –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—Å–µ RAG –∫–æ–º–∞–Ω–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
**‚öôÔ∏è –î–æ–±–∞–≤—å—Ç–µ Open WebUI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**
- –°–æ–∑–¥–∞–π—Ç–µ n8n workflow
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ n8n_pipe
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

**Open WebUI:**
- –°–∞–π—Ç: https://openwebui.com/
- n8n_pipe: https://openwebui.com/f/coleam/n8n_pipe/

**n8n:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://docs.n8n.io/
- –í–∞—à instance: https://n8n.produman.studio

**–ê–≤—Ç–æ—Ä n8n_pipe:**
- Cole Medin: https://www.youtube.com/@ColeMedin

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–≠—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞**.

Telegram Bot —É–∂–µ –∏–º–µ–µ—Ç –≤—Å–µ RAG –∫–æ–º–∞–Ω–¥—ã:
- `/ask` - RAG-–ø–æ–∏—Å–∫
- `/search` - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
- `/recommend` - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `/digest` - AI-–¥–∞–π–¥–∂–µ—Å—Ç—ã

Open WebUI - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–µ–±-–¥–æ—Å—Ç—É–ø.

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (—É–∂–µ –µ—Å—Ç—å Telegram Bot)

