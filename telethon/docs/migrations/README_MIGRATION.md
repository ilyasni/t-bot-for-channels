# üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∫ Many-to-Many —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## üìå –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

–î–æ—Å—Ç—É–ø–Ω–æ **3 —Å–ø–æ—Å–æ–±–∞** –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:

### üêç –ú–µ—Ç–æ–¥ 1: Python —Å–∫—Ä–∏–ø—Ç (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–°–∞–º—ã–π —É–¥–æ–±–Ω—ã–π –∏ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±**

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
python3 migrate_services.py

# –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
python3 migrate_services.py --force

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
python3 migrate_services.py --dry-run

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
python3 migrate_services.py --skip-tests
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux, macOS, Windows
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —Å —Ä–∞–º–∫–∞–º–∏
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚úÖ –†–µ–∂–∏–º dry-run –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–ª–∞–Ω–∞

---

### üîß –ú–µ—Ç–æ–¥ 2: Bash —Å–∫—Ä–∏–ø—Ç (Linux/macOS)
**–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Unix-way –ø–æ–¥—Ö–æ–¥**

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
./migrate_many_to_many.sh

# –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
./migrate_many_to_many.sh --force

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω
./migrate_many_to_many.sh --dry-run

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
./migrate_many_to_many.sh --skip-tests
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π –¥–ª—è Linux/macOS
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –∏–∑ utils_migration.sh
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞

---

### ‚ö° –ú–µ—Ç–æ–¥ 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (–¢–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î)
**–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é
pkill -f "python.*main.py"
pkill -f "python.*bot.py"

# 2. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é
cp telegram.db telegram.db.backup

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
python3 migrate_to_many_to_many.py

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é
python3 run_system.py &
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –ú–∏–Ω–∏–º—É–º –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏
- ‚úÖ –î–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É

| –°–∏—Ç—É–∞—Ü–∏—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ—Ç–æ–¥ |
|----------|-------------------|
| –ü–µ—Ä–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è | üêç **–ú–µ—Ç–æ–¥ 1** (Python —Å–∫—Ä–∏–ø—Ç) |
| –•–æ—á—É –≤–∏–¥–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ | üêç –ú–µ—Ç–æ–¥ 1 —Å `--dry-run` |
| –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä | üêç **–ú–µ—Ç–æ–¥ 1** –∏–ª–∏ üîß –ú–µ—Ç–æ–¥ 2 |
| –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ | –õ—é–±–æ–π –º–µ—Ç–æ–¥ |
| Windows | üêç **–ú–µ—Ç–æ–¥ 1** (—Ç–æ–ª—å–∫–æ Python) |
| Linux/macOS | –õ—é–±–æ–π –º–µ—Ç–æ–¥ |
| –û–ø—ã—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | ‚ö° –ú–µ—Ç–æ–¥ 3 (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π) |
| –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD | üêç –ú–µ—Ç–æ–¥ 1 —Å `--force` |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **QUICK_MIGRATION.md** - 5-–º–∏–Ω—É—Ç–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **MANY_TO_MANY_SUMMARY.md** - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **MIGRATION_MANY_TO_MANY.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- **CHANGELOG_MANY_TO_MANY.md** - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **test_many_to_many.py** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –ó–∞–ø—É—Å–∫: `python3 test_many_to_many.py`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
sqlite3 telegram.db "SELECT COUNT(*) FROM channels;"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫
sqlite3 telegram.db "SELECT COUNT(*) FROM user_channel;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
sqlite3 telegram.db "
  SELECT channel_username, COUNT(*) as cnt 
  FROM channels 
  GROUP BY channel_username 
  HAVING cnt > 1;
"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ!
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep "python.*main.py"
ps aux | grep "python.*bot.py"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/system.log
# –∏–ª–∏
tail -f logs/main.log
tail -f logs/bot.log
```

### API –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
curl http://localhost:8010/health
curl http://localhost:8010/users
```

---

## üîÑ –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### –°–ø–æ—Å–æ–± 1: –ò–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
pkill -f "python.*main.py"
pkill -f "python.*bot.py"

# –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø
ls -lt telegram.db.backup_*

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
cp telegram.db.backup_20241010_123456 telegram.db

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
python3 run_system.py &
```

### –°–ø–æ—Å–æ–± 2: –ò–∑ –≤–∞—à–µ–≥–æ –±—ç–∫–∞–ø–∞
```bash
# –ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–ª–∏ –±—ç–∫–∞–ø –¥–æ –º–∏–≥—Ä–∞—Ü–∏–∏
cp /path/to/your/backup.db telegram.db
python3 run_system.py &
```

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—è?
**A:** –û–±—ã—á–Ω–æ 1-5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ë–î –¥–æ 10000 –∑–∞–ø–∏—Å–µ–π. –ë–æ–ª—å—à–∏–µ –ë–î –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å –¥–æ –º–∏–Ω—É—Ç—ã.

### Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ?
**A:** –î–∞, –µ—Å–ª–∏:
- ‚úÖ –í—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î
- ‚úÖ –í—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

### Q: –ß—Ç–æ –µ—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è?
**A:** –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é. –ü—Ä–æ—Å—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞.

### Q: –ù—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–¥ n8n workflow?
**A:** –ù–µ—Ç, API endpoints –æ—Å—Ç–∞—é—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏. Workflow –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?
**A:** –î–∞, —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞.

### Q: –ü–æ—Ç–µ—Ä—è—é—Ç—Å—è –ª–∏ –º–æ–∏ –ø–æ—Å—Ç—ã?
**A:** –ù–µ—Ç, –≤—Å–µ –ø–æ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –ò–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–∞–Ω–∞–ª–æ–≤.

### Q: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ?
**A:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 test_many_to_many.py` –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∫–∞–Ω–∞–ª–æ–≤.

---

## üöÄ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ **–ù–û:** —Ç–µ–ø–µ—Ä—å –Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∫–∞–Ω–∞–ª–æ–≤ –≤ –ë–î

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üìä –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º
- üë• –ú–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–¥–ø–∏—Å–∞–Ω–æ –Ω–∞ –∫–∞–Ω–∞–ª
- üîî –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üíæ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
```python
# –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã Channel
channel = Channel.get_or_create(db, "durov")
channel.add_user(db, user, is_active=True)
channel.remove_user(db, user)
sub = channel.get_user_subscription(db, user)

# –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã User
channels = user.get_active_channels(db)
all_channels = user.get_all_channels(db)
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

–¢–∏–ø–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```
–î–æ –º–∏–≥—Ä–∞—Ü–∏–∏:
‚îú‚îÄ‚îÄ channels: 150 –∑–∞–ø–∏—Å–µ–π
‚îî‚îÄ‚îÄ –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤: ~80

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
‚îú‚îÄ‚îÄ channels: 80 –∑–∞–ø–∏—Å–µ–π (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ)
‚îú‚îÄ‚îÄ user_channel: 150 —Å–≤—è–∑–µ–π
‚îî‚îÄ‚îÄ –≠–∫–æ–Ω–æ–º–∏—è: ~47% –∑–∞–ø–∏—Å–µ–π
```

---

## üìù –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `migrate_services.py` | Python —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| `migrate_many_to_many.sh` | Bash —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ |
| `migrate_to_many_to_many.py` | –°–∞–º —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î |
| `utils_migration.sh` | –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è bash —Å–∫—Ä–∏–ø—Ç–æ–≤ |
| `test_many_to_many.py` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã |
| `README_MIGRATION.md` | –≠—Ç–æ—Ç —Ñ–∞–π–ª |
| `QUICK_MIGRATION.md` | –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è |
| `MANY_TO_MANY_SUMMARY.md` | –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ |
| `MIGRATION_MANY_TO_MANY.md` | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `CHANGELOG_MANY_TO_MANY.md` | Changelog |

---

## üéâ –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å:

```bash
# 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
cat QUICK_MIGRATION.md

# 2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏
python3 migrate_services.py --dry-run

# 3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
python3 migrate_services.py

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
python3 test_many_to_many.py
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö):

```bash
python3 migrate_services.py --force --skip-tests
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã MIGRATION_*.md
- üêõ **–ü—Ä–æ–±–ª–µ–º—ã:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ –±—ç–∫–∞–ø—ã
- üß™ **–¢–µ—Å—Ç—ã:** `python3 test_many_to_many.py`
- üîÑ **–û—Ç–∫–∞—Ç:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞

---

**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  

–£–¥–∞—á–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏! üöÄ

