# ‚úÖ –î–∞–π–¥–∂–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 6 (Automaniac)

**–î–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω

---

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

- **ID:** 6
- **Telegram ID:** 8124731874
- **–ò–º—è:** Automaniac
- **–ö–∞–Ω–∞–ª–æ–≤:** 1 (@banksta)
- **–ü–æ—Å—Ç–æ–≤:** 12+ (—Ä–∞—Å—Ç–µ—Ç)

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞

```json
{
  "enabled": true,              ‚úÖ –í–∫–ª—é—á–µ–Ω
  "frequency": "daily",          –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
  "time": "09:00",              9:00 —É—Ç—Ä–∞
  "timezone": "Europe/Moscow",   –ú–°–ö (UTC+3)
  "format": "markdown",          Markdown
  "max_posts": 200,             ‚Üê –î–æ 200 –ø–æ—Å—Ç–æ–≤ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ
  "delivery_method": "telegram",
  "channels": null,             –í—Å–µ –∫–∞–Ω–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "tags": null                  –í—Å–µ —Ç–µ–≥–∏
}
```

### –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?

- **–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 –ú–°–ö** —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–π–¥–∂–µ—Å—Ç
- –í–∫–ª—é—á–∏—Ç **–¥–æ 200 –ø–æ—Å—Ç–æ–≤** –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –¥–∞—Ç–µ)
- –°–≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –∫–∞–Ω–∞–ª–∞–º
- –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤ **Markdown**

---

## –§–æ—Ä–º–∞—Ç –¥–∞–π–¥–∂–µ—Å—Ç–∞

### Markdown (—Ç–µ–∫—É—â–∏–π)

```markdown
# üì∞ –î–∞–π–¥–∂–µ—Å—Ç –ø–æ—Å—Ç–æ–≤
**–ü–µ—Ä–∏–æ–¥:** 10.10.2025 - 11.10.2025

## üì¢ @banksta
*–ü–æ—Å—Ç–æ–≤: 12*

### 11.10.2025 12:19
–¶–µ–Ω—ã –Ω–∞ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø–∞–¥–∞—Ç—å...
[–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Üí](https://t.me/banksta/79979)

### 11.10.2025 11:51
–ö—Ä—É–ø–Ω–µ–π—à–∏–º —Ç–æ—Ä–≥–æ–≤—ã–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º...
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

**HTML:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"format": "html"}'
```

**Plain Text:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"format": "plain"}'
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–æ–º

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏

```bash
# –ù–∞ 8:00 —É—Ç—Ä–∞
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"time": "08:00"}'

# –ù–∞ 20:00 –≤–µ—á–µ—Ä–∞
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"time": "20:00"}'
```

### –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É

```bash
# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º)
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"frequency": "weekly", "days_of_week": [1]}'

# –í–µ—Ä–Ω—É—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"frequency": "daily", "days_of_week": null}'
```

### –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤

```bash
# –¢–æ–ª—å–∫–æ 50 —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö –ø–æ—Å—Ç–æ–≤
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"max_posts": 50}'

# –í—Å–µ –¥–æ 200 –ø–æ—Å—Ç–æ–≤ (—Ç–µ–∫—É—â–µ–µ)
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"max_posts": 200}'

# –ú–∞–∫—Å–∏–º—É–º 500 (–ª–∏–º–∏—Ç API)
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"max_posts": 500}'
```

### –í—ã–∫–ª—é—á–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç

```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"enabled": false}'
```

---

## –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞

### –ó–∞ —Å–µ–≥–æ–¥–Ω—è

```bash
curl -X POST "http://localhost:8020/rag/digest/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 6,
    "date_from": "2025-10-11T00:00:00Z",
    "date_to": "2025-10-11T23:59:59Z",
    "format": "markdown",
    "max_posts": 200
  }'
```

### –ó–∞ –Ω–µ–¥–µ–ª—é

```bash
curl -X POST "http://localhost:8020/rag/digest/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 6,
    "date_from": "2025-10-05T00:00:00Z",
    "date_to": "2025-10-11T23:59:59Z",
    "format": "markdown",
    "max_posts": 500
  }'
```

### –° —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–µ–≥–∞–º

```bash
curl -X POST "http://localhost:8020/rag/digest/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 6,
    "date_from": "2025-10-10T00:00:00Z",
    "date_to": "2025-10-11T23:59:59Z",
    "tags": ["—Ñ–∏–Ω–∞–Ω—Å—ã", "—ç–∫–æ–Ω–æ–º–∏–∫–∞"],
    "max_posts": 200
  }'
```

---

## üìä –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

```
‚úÖ –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ: 12 –ø–æ—Å—Ç–æ–≤
‚úÖ –û—à–∏–±–æ–∫: 0
‚úÖ GigaChat embeddings: —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Qdrant: –ø–æ–¥–∫–ª—é—á–µ–Ω
```

### –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–µ–Ω!

```bash
# –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –æ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç–∞—Ö
curl "http://localhost:8020/rag/search?query=–±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã&user_id=6&limit=5"

# –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –æ —Ç–æ—Ä–≥–æ–≤–ª–µ
curl "http://localhost:8020/rag/search?query=—Ç–æ—Ä–≥–æ–≤–ª—è&user_id=6&limit=5"
```

### RAG-–æ—Ç–≤–µ—Ç—ã

```bash
# –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –ø–æ—Å—Ç–∞–º
curl -X POST "http://localhost:8020/rag/ask" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã?",
    "user_id": 6,
    "context_limit": 10
  }'
```

---

## üîî –î–æ—Å—Ç–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤

### –¢–µ–∫—É—â–∏–π –º–µ—Ç–æ–¥: Telegram

**TODO:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ n8n workflow:

1. **Cron Trigger:** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
2. **HTTP Request:** 
   ```
   POST http://rag-service:8020/rag/digest/generate
   {
     "user_id": 6,
     "date_from": "{{$today.minus({days: 1}).startOf('day').toISO()}}",
     "date_to": "{{$today.startOf('day').toISO()}}",
     "format": "markdown",
     "max_posts": 200
   }
   ```
3. **Telegram Node:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å `{{$json.digest}}` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 8124731874

### –ë—É–¥—É—â–µ–µ: Email delivery

```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{
    "delivery_method": "email",
    "email": "user@example.com"
  }'
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è 200+ –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–µ–≥–∞–º:**
   ```bash
   # –¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Ç–µ–º—ã
   curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
     -d '{"tags": ["–≤–∞–∂–Ω–æ–µ", "—Å—Ä–æ—á–Ω–æ–µ"]}'
   ```

2. **–ù–µ—Å–∫–æ–ª—å–∫–æ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤:**
   - –£—Ç—Ä–µ–Ω–Ω–∏–π (9:00): –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (max_posts: 50)
   - –í–µ—á–µ—Ä–Ω–∏–π (20:00): –ø–æ–ª–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç (max_posts: 200)

3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞–Ω–∞–ª–∞–º:**
   ```bash
   # –¢–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
   curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
     -d '{"channels": [1, 2, 3]}'
   ```

4. **AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è (TODO):**
   - –í–º–µ—Å—Ç–æ –ø–æ–ª–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ - –∫—Ä–∞—Ç–∫–∏–µ —Å–∞–º–º–∞—Ä–∏
   - –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–µ–º–∞–º
   - –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–æ–≤

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–î–∞–π–¥–∂–µ—Å—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **Automaniac** (ID: 6) –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

- ‚úÖ –í–∫–ª—é—á–µ–Ω
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00 –ú–°–ö
- ‚úÖ –î–æ 200 –ø–æ—Å—Ç–æ–≤
- ‚úÖ –§–æ—Ä–º–∞—Ç Markdown
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–µ–Ω

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ n8n workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram Bot.

