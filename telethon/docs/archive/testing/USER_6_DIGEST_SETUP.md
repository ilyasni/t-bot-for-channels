# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID 6 (Automaniac)

**–î–∞—Ç–∞:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

```
ID: 6
Telegram ID: 8124731874
–ò–º—è: Automaniac
–°—Ç–∞—Ç—É—Å: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω ‚úÖ
–ö–∞–Ω–∞–ª–æ–≤: 1 (@banksta)
–ü–æ—Å—Ç–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é: 12
```

---

## ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞

```json
{
  "user_id": 6,
  "enabled": true,              ‚Üê –í–∫–ª—é—á–µ–Ω!
  "frequency": "daily",          –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
  "time": "09:00",              –í 9:00 —É—Ç—Ä–∞
  "timezone": "Europe/Moscow",   –ú–°–ö
  "format": "markdown",          –§–æ—Ä–º–∞—Ç Markdown
  "max_posts": 20,              –ú–∞–∫—Å. 20 –ø–æ—Å—Ç–æ–≤
  "delivery_method": "telegram", –î–æ—Å—Ç–∞–≤–∫–∞ –≤ Telegram
  "channels": null,             –í—Å–µ –∫–∞–Ω–∞–ª—ã
  "tags": null                  –í—Å–µ —Ç–µ–≥–∏
}
```

---

## üì∞ –¢–µ—Å—Ç–æ–≤—ã–π –¥–∞–π–¥–∂–µ—Å—Ç

–£—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –¥–∞–π–¥–∂–µ—Å—Ç –∑–∞ 10-11 –æ–∫—Ç—è–±—Ä—è:
- **–ü–æ—Å—Ç–æ–≤:** 12
- **–ö–∞–Ω–∞–ª:** @banksta
- **–§–æ—Ä–º–∞—Ç:** Markdown ‚úÖ

### –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

```markdown
# üì∞ –î–∞–π–¥–∂–µ—Å—Ç –ø–æ—Å—Ç–æ–≤
**–ü–µ—Ä–∏–æ–¥:** 10.10.2025 - 11.10.2025

## üì¢ @banksta
*–ü–æ—Å—Ç–æ–≤: 12*

### 11.10.2025 12:19
–¶–µ–Ω—ã –Ω–∞ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø–∞–¥–∞—Ç—å —É–∂–µ —Ç—Ä–µ—Ç–∏–π –≥–æ–¥...
[–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Üí](https://t.me/banksta/79979)

### 11.10.2025 11:51
–ö—Ä—É–ø–Ω–µ–π—à–∏–º —Ç–æ—Ä–≥–æ–≤—ã–º...
```

---

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–∞–π–¥–∂–µ—Å—Ç

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 –ú–°–ö** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –°–∏—Å—Ç–µ–º–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –ø–æ—Å—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
2. –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –∫–∞–Ω–∞–ª–∞–º (@banksta –∏ –¥—Ä.)
3. –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤ Markdown
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API

**–ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```bash
curl "http://localhost:8020/rag/digest/settings/6"
```

**–ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"time": "08:00"}'
```

**–í—ã–∫–ª—é—á–∏—Ç—å:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"enabled": false}'
```

**–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"format": "html"}'
# –î–æ—Å—Ç—É–ø–Ω—ã: markdown, html, plain
```

**–§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º:**
```bash
curl -X PUT "http://localhost:8020/rag/digest/settings/6" \
  -H "Content-Type: application/json" \
  -d '{"tags": ["—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "—Ñ–∏–Ω–∞–Ω—Å—ã"]}'
```

---

## üì§ –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞

**–î–∞–π–¥–∂–µ—Å—Ç –∑–∞ —Å–µ–≥–æ–¥–Ω—è:**
```bash
curl -X POST "http://localhost:8020/rag/digest/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 6,
    "date_from": "2025-10-11T00:00:00Z",
    "date_to": "2025-10-11T23:59:59Z",
    "format": "markdown"
  }'
```

**–î–∞–π–¥–∂–µ—Å—Ç –∑–∞ –Ω–µ–¥–µ–ª—é:**
```bash
curl -X POST "http://localhost:8020/rag/digest/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 6,
    "date_from": "2025-10-05T00:00:00Z",
    "date_to": "2025-10-11T23:59:59Z",
    "format": "markdown",
    "max_posts": 50
  }'
```

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–∏—Å–∫ –ø–æ –ø–æ—Å—Ç–∞–º

```bash
curl "http://localhost:8020/rag/search?query=–±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã&user_id=6&limit=5"
```

### RAG-–æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å

```bash
curl -X POST "http://localhost:8020/rag/ask" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã?",
    "user_id": 6,
    "context_limit": 10
  }'
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–æ–≤

```bash
curl "http://localhost:8020/rag/channels/stats/6"
```

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏

```bash
curl "http://localhost:8020/rag/tags/popular/6?limit=10"
```

---

## üìä –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

```
‚úÖ –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ—Å—Ç–æ–≤: 12
‚úÖ –û—à–∏–±–æ–∫: 0
‚úÖ GigaChat embeddings: —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –í–µ–∫—Ç–æ—Ä—ã –≤ Qdrant: —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
```

---

## TODO: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ –≤ Telegram –Ω—É–∂–Ω–æ:

1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/digest_now` –≤ `bot.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ Telegram API
3. Scheduler –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ n8n workflow:
- Cron trigger: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
- HTTP Request: POST –∫ `/rag/digest/generate`
- Telegram node: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–î–∞–π–¥–∂–µ—Å—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **Automaniac** (ID: 6) –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!

**API:** http://localhost:8020/docs  
**–°—Ç–∞—Ç—É—Å:** Enabled, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00 –ú–°–ö

