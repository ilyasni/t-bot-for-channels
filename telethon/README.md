# Telegram Channel Parser Bot

ü§ñ –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Telegram –∫–∞–Ω–∞–ª–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å n8n.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Telegram Bot** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **üé´ QR –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - —á–µ—Ä–µ–∑ Telegram Mini App (–ë–ï–ó SMS) ‚Üê –ù–û–í–û–ï v3.1
- **üíé –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** - —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è ‚Üê –ù–û–í–û–ï
- **üëë –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏–Ω–≤–∞–π—Ç–∞–º–∏ ‚Üê –ù–û–í–û–ï
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π —Å–±–æ—Ä –ø–æ—Å—Ç–æ–≤ –∏–∑ –∫–∞–Ω–∞–ª–æ–≤
- **REST API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å—Ç–æ–≤
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø–æ—Å—Ç–æ–≤ (SQLite/PostgreSQL/Supabase)
- **–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–∞–Ω–∞–ª—ã
- **AI —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ (OpenRouter)
- **Retention —Å–∏—Å—Ç–µ–º–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å—Ç–æ–≤
- **üîç RAG System** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- **üì∞ –î–∞–π–¥–∂–µ—Å—Ç—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–¥–∫–∏ –ø–æ—Å—Ç–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telethon/
‚îú‚îÄ‚îÄ docs/                      # üìö –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ quickstart/           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QUICK_START.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAG_QUICKSTART.md         ‚Üê RAG —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RAG_SYSTEM_READY.md       ‚Üê –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ features/             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag/                      ‚Üê RAG –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAG_IMPLEMENTATION_SUMMARY.md
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAG_DEPLOYMENT_SUMMARY.md
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAG_CHECKLIST.md
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DOCKER_DEPLOYMENT_ORDER.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TAGGING_RETRY_SYSTEM.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º
‚îÇ   ‚îú‚îÄ‚îÄ troubleshooting/      # –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ archive/              # –ê—Ä—Ö–∏–≤ —Å—Ç–∞—Ä—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ scripts/                   # üîß –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ setup/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ add_rag_tables.py         ‚Üê –ú–∏–≥—Ä–∞—Ü–∏—è RAG
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ rag_service/              # ü§ñ RAG –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å ‚Üê –ù–û–í–û–ï
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ vector_db.py         # Qdrant –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è embeddings
‚îÇ   ‚îú‚îÄ‚îÄ indexer.py           # –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ search.py            # –ü–æ–∏—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ generator.py         # RAG-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ digest_generator.py  # –î–∞–π–¥–∂–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.py         # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py           # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.rag       # Docker –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tests/                     # üß™ –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ examples/                  # üìù –ü—Ä–∏–º–µ—Ä—ã (n8n workflows)
‚îú‚îÄ‚îÄ sessions/                  # üîê –°–µ—Å—Å–∏–∏ Telegram
‚îú‚îÄ‚îÄ data/                      # üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ logs/                      # üìã –õ–æ–≥–∏
‚îî‚îÄ‚îÄ [–æ—Å–Ω–æ–≤–Ω—ã–µ .py —Ñ–∞–π–ª—ã]      # üêç –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## üìã –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

1. **Telegram Bot** (`bot.py`) - –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞–º–∏
2. **Parser Service** (`parser_service.py`) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥
3. **API Server** (`main.py`) - REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
4. **Database** (`models.py`, `database.py`) - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
5. **Auth** (`auth.py`, `secure_auth_manager.py`) - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
6. **Tagging Service** (`tagging_service.py`) - AI —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
7. **Cleanup Service** (`cleanup_service.py`) - –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å—Ç–æ–≤

### RAG System ‚Üê –ù–û–í–û–ï

8. **RAG Service** (`rag_service/`) - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ RAG
   - **–ü–æ—Ä—Ç:** 8020
   - **API Docs:** http://localhost:8020/docs
   - **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
     - üîç –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –ø–æ—Å—Ç–∞–º (Qdrant)
     - ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (RAG)
     - üì∞ AI-–¥–∞–π–¥–∂–µ—Å—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π
     - üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
   - **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
     - **Qdrant** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î (–ø–æ—Ä—Ç 6333)
     - **Redis** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ embeddings (–ø–æ—Ä—Ç 6379)
     - **GigaChat** - embeddings (EmbeddingsGigaR —á–µ—Ä–µ–∑ gpt2giga-proxy)
     - **OpenRouter/GigaChat** - LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
   - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
     - **Searxng** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–µ–±-–ø–æ–∏—Å–∫–æ–º
     - **Crawl4AI** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ —Å—Å—ã–ª–æ–∫
     - **Ollama** - –ª–æ–∫–∞–ª—å–Ω—ã–µ LLM –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
     - **n8n/Flowise** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ webhooks

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç n8n-server.  
> –î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–Ω–µ–≤–æ–π `start_services.py` –∏–∑ –ø–∞–ø–∫–∏ `/home/ilyasni/n8n-server/n8n-installer/`

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

#### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)

1. **–°–æ–∑–¥–∞–π—Ç–µ –º–∞—Å—Ç–µ—Ä Telegram –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://my.telegram.org
   - –í–æ–π–¥–∏—Ç–µ —Å –≤–∞—à–∏–º –Ω–æ–º–µ—Ä–æ–º
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "API development tools"
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `api_id` –∏ `api_hash`

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env:**

```bash
cd /home/ilyasni/n8n-server/n8n-installer/

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
cp .env.example .env
nano .env

# –î–æ–±–∞–≤—å—Ç–µ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
# BOT_TOKEN=... (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
# MASTER_API_ID=12345678 (–∏–∑ —à–∞–≥–∞ 1)
# MASTER_API_HASH=abcdef... (–∏–∑ —à–∞–≥–∞ 1)
# ADMIN_TELEGRAM_IDS=123456789 (–≤–∞—à telegram_id –æ—Ç @userinfobot)

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
# OPENROUTER_API_KEY - –¥–ª—è AI —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
# DEFAULT_RETENTION_DAYS=30
```

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î:**

```bash
cd telethon
python scripts/migrations/add_roles_and_subscriptions.py
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**

```bash
cd /home/ilyasni/n8n-server/n8n-installer/
python start_services.py
```

üìö **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [ADMIN_QUICKSTART.md](ADMIN_QUICKSTART.md)

#### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ü–æ–ª—É—á–∏—Ç–µ –∏–Ω–≤–∞–π—Ç –∫–æ–¥ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/login`:

üìö **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [QR –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](docs/quickstart/QR_LOGIN_GUIDE.md)

–°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
- üåê **Parser API:** `http://localhost:8010`
- üìö **Parser Docs:** `http://localhost:8010/docs`
- ü§ñ **Telegram Bot:** –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
- üîç **RAG API:** `http://localhost:8020` ‚Üê –ù–û–í–û–ï
- üìñ **RAG Docs:** `http://localhost:8020/docs` ‚Üê –ù–û–í–û–ï

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ Telegram —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–∑–¥–∞–π—Ç–µ `telethon/.env`:

```bash
cd telethon
cp .env.example .env
nano .env
```

–°–º. `telethon/.env.example` –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ü–∏–π.

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: [`docs/quickstart/`](docs/quickstart/)
- **–§—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã**: [`docs/features/`](docs/features/)
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: [`docs/migrations/`](docs/migrations/)
- **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: [`docs/troubleshooting/`](docs/troubleshooting/)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤ —Å–æ—Å—Ç–∞–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ n8n-installer
python start_services.py
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
python run_system.py

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
python bot.py              # –¢–æ–ª—å–∫–æ Telegram –±–æ—Ç
python main.py             # –¢–æ–ª—å–∫–æ API —Å–µ—Ä–≤–µ—Ä
```

#### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

##### –¢–æ–ª—å–∫–æ –±–æ—Ç
```bash
python bot.py
```

##### –¢–æ–ª—å–∫–æ API —Å–µ—Ä–≤–µ—Ä
```bash
python main.py
```

##### –¢–æ–ª—å–∫–æ –ø–∞—Ä—Å–µ—Ä
```bash
python parser_service.py
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞)

#### –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - `/login`

**–î–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

1. –ü–æ–ª—É—á–∏—Ç–µ –∏–Ω–≤–∞–π—Ç –∫–æ–¥ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: `/login INVITE_CODE`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîê –û—Ç–∫—Ä—ã—Ç—å QR –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (QR –∫–∞–º–µ—Ä–∞ / deep link / –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å)
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤ Telegram
6. ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–í—Ä–µ–º—è:** 30 —Å–µ–∫—É–Ω–¥  
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –¢–æ–ª—å–∫–æ –∏–Ω–≤–∞–π—Ç –∫–æ–¥ (–ë–ï–ó SMS!)  
üìö –î–µ—Ç–∞–ª–∏: [QR –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](docs/quickstart/QR_LOGIN_GUIDE.md)

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º - `/auth`

**–î–ª—è advanced users —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏:**

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ https://my.telegram.org
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: `/auth`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤–µ–±-—Ñ–æ—Ä–º—ã

**–í—Ä–µ–º—è:** 5-10 –º–∏–Ω—É—Ç  
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ API_ID –∏ API_HASH  
üìö –î–µ—Ç–∞–ª–∏: [–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](docs/features/README_SECURE.md)

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ:**
- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `/login INVITE_CODE` - –ü—Ä–æ—Å—Ç–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üê –ù–û–í–û–ï
- `/subscription` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ ‚Üê –ù–û–í–û–ï
- `/add_channel @channel_name` - –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª
- `/my_channels` - –í–∞—à–∏ –∫–∞–Ω–∞–ª—ã
- `/remove_channel` - –£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª
- `/help` - –°–ø—Ä–∞–≤–∫–∞

**RAG & AI:**
- `/ask <–≤–æ–ø—Ä–æ—Å>` - –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞ –≤ –ø–æ—Å—Ç–∞—Ö
- `/search <–∑–∞–ø—Ä–æ—Å>` - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–ø–æ—Å—Ç—ã + –≤–µ–±)
- `/recommend` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `/digest` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI-–¥–∞–π–¥–∂–µ—Å—Ç–æ–≤

**–ê–¥–º–∏–Ω –∫–æ–º–∞–Ω–¥—ã:** ‚Üê –ù–û–í–û–ï
- `/admin_invite` - –°–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞–π—Ç –∫–æ–¥
- `/admin_users [filter]` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/admin_user <id>` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `/admin_grant <id> <sub> [days]` - –í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `/admin_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. –ü–æ–ª—É—á–∏—Ç–µ –∏–Ω–≤–∞–π—Ç –∫–æ–¥ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/login YOUR_INVITE_CODE`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîê –û—Ç–∫—Ä—ã—Ç—å QR –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é" –≤ Mini App
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ Telegram
5. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–∞–ª: `/add_channel @durov`
6. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª—ã: `/my_channels`
7. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: `/ask –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ AI?`

#### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `/login` –∏–ª–∏ `/auth`
2. –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω–≤–∞–π—Ç: `/admin_invite`
3. –í—ã–±–µ—Ä–∏—Ç–µ Trial (7 –¥–Ω–µ–π)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: `/admin_stats`

## üåê REST API

### Endpoints

#### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```
GET /users
```

#### –ü–æ–ª—É—á–∏—Ç—å –∫–∞–Ω–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
GET /users/{telegram_id}/channels
```

#### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
GET /users/{telegram_id}/posts?hours_back=24&limit=100
```

#### –ü–∞—Ä—Å–∏—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã
```
POST /parse_all_channels
```

#### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã –∏–∑ –∫–∞–Ω–∞–ª–∞ (—Å—Ç–∞—Ä—ã–π endpoint)
```
GET /get_recent_posts?channel=@channel_name&hours_back=24&limit=100
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

#### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl "http://localhost:8010/users/123456789/posts?hours_back=24&limit=50"
```

#### –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤
```bash
curl -X POST "http://localhost:8010/parse_all_channels"
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n

### Webhook –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ webhook –≤ n8n:

1. **HTTP Request Node**:
   - Method: GET
   - URL: `http://your-server:8010/users/{telegram_id}/posts`
   - Parameters:
     - `hours_back`: 24
     - `limit`: 100

2. **AI Analysis Node**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
   - –ü—Ä–∏–º–µ—Ä: –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron job –≤ n8n:

1. **Cron Node**:
   - Schedule: `0 */30 * * * *` (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)

2. **HTTP Request Node**:
   - Method: POST
   - URL: `http://your-server:8010/parse_all_channels`

3. **AI Processing Node**:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ Users
- `id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `telegram_id` - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` - Username –≤ Telegram
- `first_name` - –ò–º—è
- `last_name` - –§–∞–º–∏–ª–∏—è
- `created_at` - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –¢–∞–±–ª–∏—Ü–∞ Channels
- `id` - ID –∫–∞–Ω–∞–ª–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á)
- `channel_username` - Username –∫–∞–Ω–∞–ª–∞
- `channel_id` - Telegram ID –∫–∞–Ω–∞–ª–∞
- `channel_title` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫–∞–Ω–∞–ª
- `created_at` - –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- `last_parsed_at` - –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –¢–∞–±–ª–∏—Ü–∞ Posts
- `id` - ID –ø–æ—Å—Ç–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á)
- `channel_id` - ID –∫–∞–Ω–∞–ª–∞ (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á)
- `telegram_message_id` - ID —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
- `text` - –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
- `views` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- `url` - –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç
- `posted_at` - –í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `parsed_at` - –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—Å–∏–Ω–≥–∞
–ò–∑–º–µ–Ω–∏—Ç–µ `PARSER_INTERVAL_MINUTES` –≤ `.env`:
```env
PARSER_INTERVAL_MINUTES=15  # –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
```

### –õ–∏–º–∏—Ç –ø–æ—Å—Ç–æ–≤
–ò–∑–º–µ–Ω–∏—Ç–µ `MAX_POSTS_PER_CHANNEL` –≤ `.env`:
```env
MAX_POSTS_PER_CHANNEL=100  # –ú–∞–∫—Å–∏–º—É–º 100 –ø–æ—Å—Ç–æ–≤ –∑–∞ —Ä–∞–∑
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL:
```env
DATABASE_URL=postgresql://user:password@localhost/telethon_bot
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `API_ID` –∏ `API_HASH`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —É–∫–∞–∑–∞–Ω –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏ –≤ –ø–∞–ø–∫–µ `sessions/`

### –û—à–∏–±–∫–∞ –±–æ—Ç–∞
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `BOT_TOKEN`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. –î–ª—è PostgreSQL –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- `INFO` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `WARNING` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ERROR` - –û—à–∏–±–∫–∏

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è.

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–∞–Ω–∞–ª—ã –∏ –ø–æ—Å—Ç—ã
- API –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å firewall –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## ü§ñ RAG System - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ß—Ç–æ —Ç–∞–∫–æ–µ RAG?

RAG (Retrieval-Augmented Generation) - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö Telegram –ø–æ—Å—Ç–æ–≤.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ RAG-—Å–µ—Ä–≤–∏—Å–∞

```bash
# Health check
curl http://localhost:8020/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {"status":"healthy","qdrant_connected":true,...}

# API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
open http://localhost:8020/docs
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**1. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞)
```bash
# –†—É—á–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST "http://localhost:8020/rag/index/user/YOUR_USER_ID?limit=100"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl "http://localhost:8020/rag/stats/YOUR_USER_ID"
```

**2. –ü–æ–∏—Å–∫ –ø–æ –ø–æ—Å—Ç–∞–º**
```bash
curl "http://localhost:8020/rag/search?query=–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π+–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç&user_id=1&limit=5"
```

**3. RAG-–æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å**
```bash
curl -X POST http://localhost:8020/rag/ask \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ AI –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?",
    "user_id": 1,
    "context_limit": 10
  }'
```

**4. –î–∞–π–¥–∂–µ—Å—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥**
```bash
curl -X POST http://localhost:8020/rag/digest/generate \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "date_from": "2025-01-10T00:00:00Z",
    "date_to": "2025-01-11T23:59:59Z",
    "format": "markdown"
  }'
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RAG

- üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [docs/features/rag/README.md](docs/features/rag/README.md)
- üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [docs/quickstart/RAG_QUICKSTART.md](docs/quickstart/RAG_QUICKSTART.md)
- ‚úÖ **–°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** [docs/quickstart/RAG_SYSTEM_READY.md](docs/quickstart/RAG_SYSTEM_READY.md)
- üèóÔ∏è **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:** [rag_service/README.md](rag_service/README.md)

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –º–µ—Ç—Ä–∏–∫:
```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl "http://localhost:8010/users" | jq '.users | length'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤
curl "http://localhost:8010/users/123456789/channels" | jq '.channels | length'
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Telegram API –¥–æ—Å—Ç—É–ø–µ–Ω

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 