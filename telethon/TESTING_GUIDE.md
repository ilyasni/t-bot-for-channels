# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é RAG –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

**–î–∞—Ç–∞:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.2.1

---

## üéØ –¶–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å 4 –Ω–æ–≤—ã—Ö RAG –∫–æ–º–∞–Ω–¥:
- `/ask` - RAG-–ø–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞
- `/recommend` - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `/search` - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
- `/digest` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤

Plus –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å—Å—ã–ª–∫–∞–º–∏.

---

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
cd /home/ilyasni/n8n-server/n8n-installer/telethon
python scripts/migrations/add_enriched_content.py
```

**–í–≤–æ–¥:** `yes`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –°—Ç–æ–ª–±–µ—Ü enriched_content —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

### –®–∞–≥ 2: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
cd /home/ilyasni/n8n-server/n8n-installer

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ telethon-bot
docker compose up telethon-bot --build -d

# –ò–ª–∏ —á–µ—Ä–µ–∑ alias
telethon-rebuild
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker ps | grep telethon-bot
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å: Up X seconds/minutes
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
docker logs telethon-bot --tail 50
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
ü§ñ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞...
‚úÖ Telegram Bot –∑–∞–ø—É—â–µ–Ω
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RAG service

```bash
curl http://localhost:8020/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "qdrant_connected": true,
  "gigachat_available": true,
  "openrouter_available": true,
  "version": "0.1.0"
}
```

---

## ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –¢–µ—Å—Ç 1: –ö–æ–º–∞–Ω–¥–∞ `/help`

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å–ø—Ä–∞–≤–∫—É

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/help`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏–¥–Ω–∞ —Å–µ–∫—Ü–∏—è "ü§ñ RAG & AI (–Ω–æ–≤–æ–µ):"
- ‚úÖ –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã 4 –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω workflow (–¥–æ–±–∞–≤–ª–µ–Ω—ã RAG —à–∞–≥–∏)

---

### –¢–µ—Å—Ç 2: –ö–æ–º–∞–Ω–¥–∞ `/start`

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**
```
ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Telegram Channel Parser Bot!

–Ø –ø–æ–º–æ–≥—É –≤–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏–∑ –≤–∞—à–∏—Ö –ª—é–±–∏–º—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –∏ –∏—Å–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é AI.

...

ü§ñ RAG & AI –∫–æ–º–∞–Ω–¥—ã:
/ask - –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞ –≤ –ø–æ—Å—Ç–∞—Ö
/search - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–ø–æ—Å—Ç—ã + –≤–µ–±)
/recommend - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
/digest - AI-–¥–∞–π–¥–∂–µ—Å—Ç—ã
```

---

### –¢–µ—Å—Ç 3: –ö–æ–º–∞–Ω–¥–∞ `/ask` (–±–∞–∑–æ–≤—ã–π)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RAG-–ø–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- –î–æ–±–∞–≤–ª–µ–Ω —Ö–æ—Ç—è –±—ã 1 –∫–∞–Ω–∞–ª
- –ü—Ä–æ—à–ª–æ 5-10 –º–∏–Ω—É—Ç (–ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/ask –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üí° –û—Ç–≤–µ—Ç:

[–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ–≤]

üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
1. [Channel Name](https://t.me/channel/123) (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 95%)
2. [Another Channel](https://t.me/another/456) (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 88%)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –û—Ç–≤–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω (–Ω–µ –ø—É—Å—Ç–æ–π)
- ‚úÖ –ï—Å—Ç—å –º–∏–Ω–∏–º—É–º 1 –∏—Å—Ç–æ—á–Ω–∏–∫
- ‚úÖ –°—Å—ã–ª–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- ‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

### –¢–µ—Å—Ç 4: –ö–æ–º–∞–Ω–¥–∞ `/ask` (edge cases)

#### 4.1. –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è:**
```
/ask
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /ask <–≤–∞—à –≤–æ–ø—Ä–æ—Å>

–ü—Ä–∏–º–µ—Ä—ã:
‚Ä¢ /ask –ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?
‚Ä¢ /ask –ö–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ Tesla?
```

#### 4.2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –í—ã–π—Ç–∏: `/logout`
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å: `/ask –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ùå –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RAG-–ø–æ–∏—Å–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–π—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /auth
```

#### 4.3. –ù–µ—Ç –ø–æ—Å—Ç–æ–≤ –≤ –ë–î

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–±–µ–∑ –∫–∞–Ω–∞–ª–æ–≤)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å: `/ask –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì≠ –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

üí° –î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–∞–ª—ã –∫–æ–º–∞–Ω–¥–æ–π /add_channel @channel_name
–ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞—á–Ω–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.
```

---

### –¢–µ—Å—Ç 5: –ö–æ–º–∞–Ω–¥–∞ `/recommend`

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `/ask` –º–∏–Ω–∏–º—É–º 3 —Ä–∞–∑–∞

**–î–µ–π—Å—Ç–≤–∏—è:**
```
/recommend
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—Å:

1. [Channel Name] –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç–∞...
   –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 95%

2. [Another Channel] –î—Ä—É–≥–æ–π –ø–æ—Å—Ç...
   –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 88%

...

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –ú–∏–Ω–∏–º—É–º 1 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- ‚úÖ –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- ‚úÖ –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

#### 5.1. –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
2. `/recommend`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üí° –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /ask –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã...
```

---

### –¢–µ—Å—Ç 6: –ö–æ–º–∞–Ω–¥–∞ `/search` (–æ—Å–Ω–æ–≤–Ω–æ–π)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
- `SEARXNG_ENABLED=true` –≤ .env

**–î–µ–π—Å—Ç–≤–∏—è:**
```
/search –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã

üì± –í–∞—à–∏ –ø–æ—Å—Ç—ã (X):
‚Ä¢ [Channel] Snippet...

üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (X):
‚Ä¢ IBM Quantum - Official Site
  ibm.com/quantum

[üì± –¢–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã] [üåê –¢–æ–ª—å–∫–æ –≤–µ–±]
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –ø–æ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –≤–µ–± (–≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å)
- ‚úÖ Inline –∫–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

#### 6.1. –¢–µ—Å—Ç inline –∫–Ω–æ–ø–æ–∫

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/search —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏`
2. –ö–ª–∏–∫–Ω—É—Ç—å "üì± –¢–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üîÑ –ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫"

**–î–µ–π—Å—Ç–≤–∏—è:**
3. –ö–ª–∏–∫–Ω—É—Ç—å "üîÑ –ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–Ω–æ–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ–±–∞ —Ç–∏–ø–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### –¢–µ—Å—Ç 7: –ö–æ–º–∞–Ω–¥–∞ `/digest` (–º–µ–Ω—é)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–î–µ–π—Å—Ç–≤–∏—è:**
```
/digest
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤

üìä –°—Ç–∞—Ç—É—Å: ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
üïê –í—Ä–µ–º—è: 09:00
ü§ñ AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è: –û—Ç–∫–ª—é—á–µ–Ω–∞
üìä –ö—Ä–∞—Ç–∫–∏–π
üè∑Ô∏è –¢–µ–º—ã: –ù–µ –∑–∞–¥–∞–Ω—ã

üí° –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:

[–ö–Ω–æ–ø–∫–∏...]
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –í–∏–¥–Ω—ã 6 –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í–∫–ª—é—á–∏—Ç—å" –∏–ª–∏ "–û—Ç–∫–ª—é—á–∏—Ç—å"

---

### –¢–µ—Å—Ç 8: `/digest` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "üìÖ –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É"
3. –í—ã–±—Ä–∞—Ç—å "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é
- ‚úÖ –í –º–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ"

---

### –¢–µ—Å—Ç 9: `/digest` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "üïê –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è"
3. –í—ã–±—Ä–∞—Ç—å "12:00"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–æ"
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ–Ω—é
- ‚úÖ –í –º–µ–Ω—é "üïê –í—Ä–µ–º—è: 12:00"

---

### –¢–µ—Å—Ç 10: `/digest` - Toggle AI

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "ü§ñ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—é"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞/–æ—Ç–∫–ª—é—á–µ–Ω–∞"
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ–Ω—é
- ‚úÖ –°—Ç–∞—Ç—É—Å AI –æ–±–Ω–æ–≤–ª–µ–Ω

---

### –¢–µ—Å—Ç 11: `/digest` - –°—Ç–∏–ª—å

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "üìä –°—Ç–∏–ª—å —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏"
3. –í—ã–±—Ä–∞—Ç—å "üìã –î–µ—Ç–∞–ª—å–Ω—ã–π"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω—ã 3 –æ–ø—Ü–∏–∏ —Å—Ç–∏–ª—è
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–°—Ç–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω"
- ‚úÖ –í –º–µ–Ω—é "üìä –î–µ—Ç–∞–ª—å–Ω—ã–π"

---

### –¢–µ—Å—Ç 12: `/digest` - –í–≤–æ–¥ —Ç–µ–º

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "üè∑Ô∏è –ú–æ–∏ —Ç–µ–º—ã"
3. –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤–≤–æ–¥–∞
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å: `AI, –±–ª–æ–∫—á–µ–π–Ω, —Å—Ç–∞—Ä—Ç–∞–ø—ã`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[–ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É]
üè∑Ô∏è –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ —Ç–µ–º—ã

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–º—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.

–ü—Ä–∏–º–µ—Ä:
AI, –±–ª–æ–∫—á–µ–π–Ω, —Å—Ç–∞—Ä—Ç–∞–ø—ã, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /cancel –¥–ª—è –æ—Ç–º–µ–Ω—ã

[–ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–º]
‚úÖ –¢–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: AI, –±–ª–æ–∫—á–µ–π–Ω, —Å—Ç–∞—Ä—Ç–∞–ø—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /digest –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ State —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–≤–æ–¥
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–º —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ RAG API
- ‚úÖ State –æ—á–∏—â–µ–Ω –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞

---

### –¢–µ—Å—Ç 13: `/digest` - –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ

**–î–µ–π—Å—Ç–≤–∏—è:**
1. `/digest`
2. –ö–ª–∏–∫–Ω—É—Ç—å "‚úÖ –í–∫–ª—é—á–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç" (–∏–ª–∏ "‚ùå –û—Ç–∫–ª—é—á–∏—Ç—å")

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–î–∞–π–¥–∂–µ—Å—Ç –≤–∫–ª—é—á–µ–Ω/–æ—Ç–∫–ª—é—á–µ–Ω"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é
- ‚úÖ –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω –≤ –º–µ–Ω—é

---

### –¢–µ—Å—Ç 14: –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å—Å—ã–ª–∫–∞–º–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
```bash
# –í .env
CRAWL4AI_ENABLED=true
```

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å telethon: `docker compose restart telethon`
2. –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª —Å –ø–æ—Å—Ç–∞–º–∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ —Å—Å—ã–ª–∫–∏
3. –ü–æ–¥–æ–∂–¥–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ (5-10 –º–∏–Ω—É—Ç)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
```bash
docker logs telethon | grep "–æ–±–æ–≥–∞—â–µ–Ω"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ ParserService: –ü–æ—Å—Ç 123 –æ–±–æ–≥–∞—â–µ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Å—Å—ã–ª–∫–∏ https://example.com
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:**
```bash
docker exec telethon python -c "
from database import SessionLocal
from models import Post

db = SessionLocal()
posts = db.query(Post).filter(Post.enriched_content != None).all()
print(f'–ü–æ—Å—Ç–æ–≤ —Å –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º: {len(posts)}')
if posts:
    print(f'–ü—Ä–∏–º–µ—Ä: {posts[0].enriched_content[:200]}')
db.close()
"
```

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª–Ω—ã–π workflow –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞

```
# 1. –ù–∞—á–∞–ª–æ
/start
‚Üí ‚úÖ –í–∏–¥–∏–º —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ RAG –∫–æ–º–∞–Ω–¥

# 2. –°–ø—Ä–∞–≤–∫–∞
/help
‚Üí ‚úÖ –°–µ–∫—Ü–∏—è "RAG & AI" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

# 3. –ü–æ–ø—ã—Ç–∫–∞ –±–µ–∑ auth
/ask –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?
‚Üí ‚úÖ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç /auth

# 4. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
/auth
‚Üí –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-—Ñ–æ—Ä–º—É, –ø—Ä–æ–π—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

# 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
/add_channel @tech_news
‚Üí ‚úÖ –ö–∞–Ω–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω

# 6. –ü–æ–¥–æ–∂–¥–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞
[–ñ–¥–µ–º 5-10 –º–∏–Ω—É—Ç]

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Å—Ç—ã —Å–ø–∞—Ä—Å–∏–ª–∏—Å—å:
curl http://localhost:8010/users/YOUR_TELEGRAM_ID/posts?limit=5

# 7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAG
/ask –ß—Ç–æ –ø–∏—Å–∞–ª–∏ –ø—Ä–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏?
‚Üí ‚úÖ –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

/ask –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
‚Üí ‚úÖ –î—Ä—É–≥–æ–π –æ—Ç–≤–µ—Ç (–ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ)

# 8. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö /ask)
/recommend
‚Üí ‚úÖ –ü–æ–ª—É—á–∞–µ–º 5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

# 9. –ü–æ–∏—Å–∫
/search –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç
‚Üí ‚úÖ –ü–æ—Å—Ç—ã + –≤–µ–± —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚Üí –ö–ª–∏–∫–∞–µ–º "–¢–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã"
‚Üí ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã
‚Üí –ö–ª–∏–∫–∞–µ–º "–ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫"
‚Üí ‚úÖ –°–Ω–æ–≤–∞ –æ–±–∞ —Ç–∏–ø–∞

# 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞
/digest
‚Üí ‚úÖ –ú–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫

‚Üí –ö–ª–∏–∫–∞–µ–º "–ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É"
‚Üí –í—ã–±–∏—Ä–∞–µ–º "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"
‚Üí ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ

‚Üí –ö–ª–∏–∫–∞–µ–º "–ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è"
‚Üí –í—ã–±–∏—Ä–∞–µ–º "12:00"
‚Üí ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ

‚Üí –ö–ª–∏–∫–∞–µ–º "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å AI"
‚Üí ‚úÖ AI –≤–∫–ª—é—á–µ–Ω–∞

‚Üí –ö–ª–∏–∫–∞–µ–º "–°—Ç–∏–ª—å"
‚Üí –í—ã–±–∏—Ä–∞–µ–º "–î–µ—Ç–∞–ª—å–Ω—ã–π"
‚Üí ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ

‚Üí –ö–ª–∏–∫–∞–µ–º "–ú–æ–∏ —Ç–µ–º—ã"
‚Üí –í–≤–æ–¥–∏–º: AI, –±–ª–æ–∫—á–µ–π–Ω, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
‚Üí ‚úÖ –¢–µ–º—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

‚Üí –ö–ª–∏–∫–∞–µ–º "–í–∫–ª—é—á–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç"
‚Üí ‚úÖ –î–∞–π–¥–∂–µ—Å—Ç –≤–∫–ª—é—á–µ–Ω

# 11. –ü—Ä–æ–≤–µ—Ä–∫–∞ final state
/digest
‚Üí ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

---

## üìä –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–º–∞–Ω–¥–∞ `/ask`
- [ ] –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Üí usage
- [ ] –ù–µ auth ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç /auth
- [ ] –ù–µ—Ç –ø–æ—Å—Ç–æ–≤ ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç /add_channel
- [ ] –ù–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Üí —Ç–æ–ø-5
- [ ] –°—Å—ã–ª–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "typing"

### –ö–æ–º–∞–Ω–¥–∞ `/recommend`
- [ ] –° –∏—Å—Ç–æ—Ä–∏–µ–π ‚Üí 5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- [ ] –ë–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏ ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç /ask
- [ ] –ü—Ä–æ—Ü–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### –ö–æ–º–∞–Ω–¥–∞ `/search`
- [ ] –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- [ ] –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Üí usage
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –ø–æ—Å—Ç–æ–≤
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –≤–µ–±
- [ ] Inline –∫–Ω–æ–ø–∫–∞ "–¢–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Inline –∫–Ω–æ–ø–∫–∞ "–¢–æ–ª—å–∫–æ –≤–µ–±" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Inline –∫–Ω–æ–ø–∫–∞ "–ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫" —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ö–æ–º–∞–Ω–¥–∞ `/digest`
- [ ] –ú–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Toggle AI —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—ã–±–æ—Ä —Å—Ç–∏–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–≤–æ–¥ —Ç–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è "–ù–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] State management –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

### –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
- [ ] CRAWL4AI_ENABLED=true —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–±–æ–≥–∞—â–µ–Ω–∏–µ
- [ ] –ü–æ–ª–µ enriched_content –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è
- [ ] –û—à–∏–±–∫–∏ Crawl4AI –Ω–µ –ª–æ–º–∞—é—Ç –ø–∞—Ä—Å–∏–Ω–≥
- [ ] Timeout –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

### –û–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] /start –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] /help –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] handle_text –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–º—ã
- [ ] –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç regression –≤ —Å—Ç–∞—Ä—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö

---

## üêõ Troubleshooting –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
docker images | grep telethon-bot
# –°–º–æ—Ç—Ä–∏–º –¥–∞—Ç—É —Å–æ–∑–¥–∞–Ω–∏—è - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–≤–µ–∂–∞—è

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
docker compose build telethon-bot --no-cache
docker compose up telethon-bot -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: RAG service –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ endpoints —Å—É—â–µ—Å—Ç–≤—É—é—Ç
curl http://localhost:8020/docs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å RAG service
docker compose restart rag-service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs rag-service
```

### –ü—Ä–æ–±–ª–µ–º–∞: Searxng –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -I https://searxng.produman.studio

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å credentials
curl -u hello@ilyasni.com:PASSWORD \
  "https://searxng.produman.studio/search?q=test&format=json"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î
docker exec telethon python -c "
from sqlalchemy import inspect
from database import engine

inspector = inspect(engine)
columns = [col['name'] for col in inspector.get_columns('posts')]
print('enriched_content' in columns)
"

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: True
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] –í—Å–µ 4 –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Inline –∫–Ω–æ–ø–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- [ ] State management —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ graceful
- [ ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ (–Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [ ] –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)

---

## üìù –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** _____________

**–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫:** _____________

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –¢–µ—Å—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-------------|
| /help –æ–±–Ω–æ–≤–ª–µ–Ω | ‚¨ú Pass / ‚¨ú Fail | |
| /start –æ–±–Ω–æ–≤–ª–µ–Ω | ‚¨ú Pass / ‚¨ú Fail | |
| /ask –±–∞–∑–æ–≤—ã–π | ‚¨ú Pass / ‚¨ú Fail | |
| /ask edge cases | ‚¨ú Pass / ‚¨ú Fail | |
| /recommend | ‚¨ú Pass / ‚¨ú Fail | |
| /search –±–∞–∑–æ–≤—ã–π | ‚¨ú Pass / ‚¨ú Fail | |
| /search –∫–Ω–æ–ø–∫–∏ | ‚¨ú Pass / ‚¨ú Fail | |
| /digest –º–µ–Ω—é | ‚¨ú Pass / ‚¨ú Fail | |
| /digest —á–∞—Å—Ç–æ—Ç–∞ | ‚¨ú Pass / ‚¨ú Fail | |
| /digest –≤—Ä–µ–º—è | ‚¨ú Pass / ‚¨ú Fail | |
| /digest AI toggle | ‚¨ú Pass / ‚¨ú Fail | |
| /digest —Å—Ç–∏–ª—å | ‚¨ú Pass / ‚¨ú Fail | |
| /digest —Ç–µ–º—ã | ‚¨ú Pass / ‚¨ú Fail | |
| /digest –≤–∫–ª/–≤—ã–∫–ª | ‚¨ú Pass / ‚¨ú Fail | |
| –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ | ‚¨ú Pass / ‚¨ú Fail | |

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. _____________________________________________
2. _____________________________________________

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚¨ú –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É / ‚¨ú –¢—Ä–µ–±—É—é—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** AI Assistant  
**–ü—Ä–æ–µ–∫—Ç:** Telegram Channel Parser + RAG System

