# RAG Service Dependencies - Minimal

# FastAPI Framework
fastapi==0.109.0
uvicorn[standard]==0.27.0
pydantic==2.5.3
python-dotenv==1.0.0

# Vector DB  
qdrant-client==1.15.0  # Обновлено: совместимость с Qdrant 1.15+ API

# Tokenizer (легкий, ~2MB)
tiktoken>=0.7.0

# HTTP Client
httpx==0.26.0

# Scheduler
APScheduler==3.10.4

# Database
sqlalchemy==2.0.25
psycopg2-binary==2.9.9
asyncpg==0.29.0

# Utils
python-dateutil==2.8.2
pytz==2023.3

# Observability
prometheus-client>=0.19.0

# Evaluation dependencies - упрощенная версия для быстрой сборки
# Базовые зависимости для evaluation (без внешних LLM)
datasets>=2.0.0  # Для работы с golden datasets

# Langfuse для tracing (основная функциональность)
langfuse>=3.0.0,<4.0.0

# OpenAI для evaluation (совместимая версия)
openai>=1.0.0,<2.0.0

# LangChain для evaluation
langchain>=0.1.0
langchain-core>=0.1.0
langchain-community>=0.0.38
langchain-openai>=0.1.0

# RAGAS для evaluation
ragas>=0.1.0
anthropic>=0.25.0

# Rate Limiting & Retry
aiolimiter>=1.1.0  # Rate limiting для GigaChat (1 concurrent request)
tenacity>=8.2.0    # Exponential backoff retry

# Note: sentence-transformers (опционально, ~3GB)
# Раскомментируйте если нужен fallback для embeddings:
# sentence-transformers==2.3.1
# torch==2.1.2

